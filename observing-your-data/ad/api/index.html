<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Anomaly detection API - OpenSearch documentation</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=G-BQV14XK08F"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-BQV14XK08F'); </script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Anomaly detection API | OpenSearch documentation</title> <meta name="generator" content="Jekyll v4.3.2" /> <meta property="og:title" content="Anomaly detection API" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Anomaly detection API" /> <meta property="og:description" content="Anomaly detection API" /> <link rel="canonical" href="https://vagimeli.github.io/observing-your-data/ad/api/" /> <meta property="og:url" content="https://vagimeli.github.io/observing-your-data/ad/api/" /> <meta property="og:site_name" content="OpenSearch documentation" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2023-05-23T09:39:24-06:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Anomaly detection API" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-02-20T09:34:20-07:00","datePublished":"2023-05-23T09:39:24-06:00","description":"Anomaly detection API","headline":"Anomaly detection API","mainEntityOfPage":{"@type":"WebPage","@id":"https://vagimeli.github.io/observing-your-data/ad/api/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://vagimeli.github.io/assets/images/logo.svg"}},"url":"https://vagimeli.github.io/observing-your-data/ad/api/"}</script> <!-- End Jekyll SEO tag --> <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"></script> <script src="/assets/js/version-selector.js"></script> <!-- Last-Modified: Mon, 20 Feb 2023 09:34:20 -0700 --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-grid" viewBox="0 0 24 24"> <title>Documentation Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather feather-grid"> <rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect> </svg> </symbol> </svg> <div role="banner" class="banner-alert"> <div class="container"> <p><a href="/downloads.html">OpenSearch 2.3 is live üçæ!</a></p> </div> </div> <div role="banner" id="top"> <div class="container"> <a class="logo" href="/"> OpenSearch <svg viewBox="0 0 372 72" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M61.7374 26.5C60.4878 26.5 59.4748 27.513 59.4748 28.7626C59.4748 47.3814 44.3814 62.4748 25.7626 62.4748C24.513 62.4748 23.5 63.4878 23.5 64.7374C23.5 65.987 24.513 67 25.7626 67C46.8805 67 64 49.8805 64 28.7626C64 27.513 62.987 26.5 61.7374 26.5Z" fill="#00A3E0"/> <path d="M48.0814 41C50.2572 37.4505 52.3615 32.7178 51.9475 26.0921C51.0899 12.3673 38.6589 1.95537 26.9206 3.08373C22.3253 3.52547 17.6068 7.2712 18.026 13.9805C18.2082 16.8961 19.6352 18.6169 21.9544 19.9399C24.1618 21.1992 26.9978 21.9969 30.2128 22.9011C34.0962 23.9934 38.6009 25.2203 42.0631 27.7717C46.2125 30.8296 49.0491 34.3743 48.0814 41Z" fill="#B9D9EB"/> <path d="M3.91861 17C1.74276 20.5495 -0.361506 25.2822 0.0524931 31.9079C0.910072 45.6327 13.3411 56.0446 25.0794 54.9163C29.6747 54.4745 34.3932 50.7288 33.974 44.0195C33.7918 41.1039 32.3647 39.3831 30.0456 38.0601C27.8382 36.8008 25.0022 36.0031 21.7872 35.0989C17.9038 34.0066 13.3991 32.7797 9.93695 30.2283C5.78747 27.1704 2.95092 23.6257 3.91861 17Z" fill="#00A3E0"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M362.5 31V54H371.5V29C371.5 24.3927 370.6 20.9121 368.799 18.5511C366.998 16.1672 364.282 15 360.75 15C356.918 15 353.847 17.2408 352 21H351.5C351.636 19.0591 351.76 17.9472 351.85 17.1353C351.943 16.298 352 15.7797 352 15V0.5H343V54H352.5V35.5C352.5 31.3511 352.639 28.2815 353.493 26.081C354.347 23.8575 355.836 22.7458 357.96 22.7458C360.799 22.7458 362.5 25.3841 362.5 31ZM231.852 51.2289C234.284 48.7148 235.5 45.0936 235.5 40.3653C235.5 37.4129 234.834 34.7835 233.501 32.477C232.191 30.1705 229.865 27.9102 226.521 25.6959C224.042 24.0814 222.3 22.6398 221.294 21.3713C220.312 20.1027 219.821 18.615 219.821 16.9082C219.821 15.1783 220.23 13.8175 221.049 12.8257C221.891 11.8108 223.083 11.3034 224.627 11.3034C226.03 11.3034 227.339 11.5571 228.555 12.0645C229.794 12.572 230.975 13.1486 232.098 13.7944L235.254 6.25216C231.63 4.08405 227.854 3 223.925 3C219.809 3 216.524 4.26857 214.069 6.80572C211.637 9.34287 210.421 12.7796 210.421 17.1158C210.421 19.3761 210.725 21.3597 211.333 23.0665C211.964 24.7733 212.841 26.3187 213.964 27.7026C215.109 29.0634 216.781 30.4935 218.979 31.9927C221.505 33.6995 223.317 35.2564 224.416 36.6633C225.515 38.0472 226.065 39.5811 226.065 41.2648C226.065 42.9716 225.597 44.3209 224.662 45.3127C223.75 46.3045 222.382 46.8004 220.558 46.8004C217.354 46.8004 213.835 45.5664 210 43.0985V52.4052C213.133 54.1351 216.933 55 221.4 55C225.959 55 229.444 53.743 231.852 51.2289ZM241.674 49.8745C244.48 53.2915 248.306 55 253.152 55C257.303 55 260.862 54.1111 263.83 52.3333V44.7489C260.677 46.619 257.593 47.5541 254.578 47.5541C252.213 47.5541 250.358 46.7229 249.013 45.0606C247.668 43.3752 247.07 40.9401 247 37.5H265.5V32.4545C265.5 26.9365 264.283 22.6537 261.848 19.6061C259.413 16.5354 256.086 15 251.865 15C247.343 15 243.819 16.7893 241.291 20.368C238.764 23.9466 237.5 28.9221 237.5 35.2944C237.5 41.5743 238.891 46.4343 241.674 49.8745ZM248.526 24.2121C249.384 22.8038 250.474 22.0996 251.796 22.0996C253.21 22.0996 254.323 22.8268 255.135 24.2814C255.946 25.7359 256.454 28.1833 256.5 31H247C247.139 28.0678 247.668 25.5974 248.526 24.2121ZM288 54L286.5 49H286C284.622 51.2587 283.295 52.868 281.824 53.7208C280.352 54.5736 278.494 55 276.252 55C273.378 55 271.112 53.9398 269.453 51.8194C267.818 49.6989 267 46.7488 267 42.9689C267 38.9124 268.121 35.9046 270.364 33.9455C272.63 31.9634 276.006 30.8686 280.492 30.6612L285.678 30.4538V27.688C285.678 24.0925 284.101 22.2947 280.947 22.2947C278.611 22.2947 275.924 23.1936 272.887 24.9914L269.663 18.6301C273.541 16.21 277.694 15 282.25 15C286.385 15 289.592 16.1755 291.741 18.5264C293.914 20.8542 295 24.1616 295 28.4486V54H288ZM280.071 47.809C281.777 47.809 283.132 47.0599 284.136 45.5618C285.164 44.0406 285.678 42.0239 285.678 39.5117V36.2619L282.805 36.4002C280.679 36.5154 279.113 37.1147 278.109 38.1979C277.128 39.2812 276.637 40.8946 276.637 43.038C276.637 46.2187 277.782 47.809 280.071 47.809ZM318 15.75C316.93 15.405 315.337 15 314.222 15C312.651 15 311.273 15.5174 310.089 16.5523C308.905 17.5872 308.002 18.5853 307 21H306.5L305 16H298V54H307.463V34C307.463 30.6424 307.676 28.4763 308.86 26.7285C310.044 24.9577 311.74 24.0723 313.948 24.0723C314.973 24.0723 315.863 24.27 316.5 24.5L318 15.75ZM332 55C327.443 55 323.954 53.478 321.573 50.1302C319.191 46.7824 318 41.8647 318 35.377C318 28.5891 319.122 23.5213 321.366 20.1735C323.634 16.8257 327.017 15 331.735 15C333.154 15 334.752 15.3596 336.309 15.7752C337.866 16.1908 339.763 16.715 341 17.5L337.889 24.7449C335.989 23.6136 334.305 23.048 332.84 23.048C330.893 23.048 329.485 24.0754 328.614 26.1302C327.767 28.162 327.344 31.2211 327.344 35.3077C327.344 39.3019 327.767 42.2918 328.614 44.2774C329.462 46.2399 330.847 47.2211 332.771 47.2211C335.061 47.2211 337.454 46.413 339.95 44.7969V52.9008C337.546 54.4015 334.908 55 332 55Z" fill="#B9D9EB"/> <path fill-rule="evenodd" clip-rule="evenodd" d="M107.777 48.2625C110.926 43.7708 112.5 37.3442 112.5 28.9827C112.5 20.6213 110.937 14.2062 107.812 9.73754C104.686 5.24585 100.194 3 94.3368 3C88.4098 3 83.8719 5.23433 80.7231 9.70299C77.5744 14.1486 76 20.5522 76 28.9136C76 37.3442 77.5744 43.8053 80.7231 48.297C83.8719 52.7657 88.3866 55 94.2674 55C100.125 55 104.628 52.7542 107.777 48.2625ZM87.8425 42.1468C86.3839 39.1293 85.6546 34.7413 85.6546 28.9827C85.6546 23.2011 86.3839 18.8131 87.8425 15.8186C89.3011 12.8011 91.4659 11.2924 94.3368 11.2924C99.986 11.2924 102.811 17.1891 102.811 28.9827C102.811 40.7763 99.9629 46.6731 94.2674 46.6731C91.4428 46.6731 89.3011 45.1643 87.8425 42.1468ZM128.186 53.9979C129.469 54.7387 130.85 55 132.5 55C136.03 55 138.9 53.3265 140.94 49.7612C142.98 46.196 144 41.2764 144 35.0025C144 28.6359 143.014 23.7164 141.043 20.2437C139.072 16.7479 136.345 15 132.861 15C129.24 15 126.402 17.1569 124.5 21H124L122.5 16H115.5V71.5H124.5V55C124.5 54.3518 124.367 52.1485 124 49H124.5C125.25 51.25 126.925 53.2339 128.186 53.9979ZM125.882 25.3832C126.685 23.6932 127.979 22.8482 129.767 22.8482C131.44 22.8482 132.666 23.8437 133.446 25.8347C134.248 27.8257 134.649 30.8353 134.649 34.8636C134.649 43.059 133.045 47.1567 129.836 47.1567C127.979 47.1567 126.65 46.1844 125.848 44.2397C125.046 42.295 124.645 39.1928 124.645 34.933V33.7176C124.691 29.8282 125.103 27.0501 125.882 25.3832ZM161.652 55C156.806 55 152.98 53.2915 150.174 49.8745C147.391 46.4343 146 41.5743 146 35.2944C146 28.9221 147.264 23.9466 149.791 20.368C152.319 16.7893 155.843 15 160.365 15C164.585 15 167.913 16.5354 170.348 19.6061C172.783 22.6537 174 26.9365 174 32.4545V37.5H155.5C155.57 40.9401 156.168 43.3752 157.513 45.0606C158.858 46.7229 160.713 47.5541 163.078 47.5541C166.093 47.5541 169.177 46.619 172.33 44.7489V52.3333C169.362 54.1111 165.803 55 161.652 55ZM160.296 22.0996C158.974 22.0996 157.884 22.8038 157.026 24.2121C156.168 25.5974 155.639 28.0678 155.5 31H165C164.954 28.1833 164.446 25.7359 163.635 24.2814C162.823 22.8268 161.71 22.0996 160.296 22.0996ZM196.5 31V54H205.5V29.1991C205.5 24.5589 204.623 21.0323 202.868 18.6194C201.137 16.2065 198.516 15 195.007 15C192.93 15 191.117 15.5104 189.57 16.5313C188.024 17.5289 186.831 19.2135 186 21H185.5L184.25 16H177V54H186.5V35.75C186.5 31.0402 186.673 27.8302 187.597 25.8582C188.52 23.8628 189.974 22.8652 191.96 22.8652C193.46 22.8652 194.546 23.5844 195.215 25.0229C195.885 26.4614 196.5 28.1927 196.5 31Z" fill="#00A3E0"/> </svg> </a> <div class="menu-button"><i class="icon icon-reorder"></i><span>Menu</span></div> <div class="nav-menu-on" role="navigation"> <ul class="nested-nav"> <li> <a href="/downloads.html" >Download</a> </li> <li> <a >About</a> <ul> <li> <a href="/about.html" >OpenSearch</a> </li> <li> <a href="/releases.html" >Releases</a> </li> <li> <a href="/faq" >FAQ</a> </li> </ul> </li> <li> <a >Community</a> <ul> <li> <a href="/blog" >Blog</a> </li> <li> <a href="https://forum.opensearch.org/" >Forum</a> </li> <li> <a href="/events" >Events</a> </li> <li> <a href="/partners" >Partners</a> </li> <li> <a href="/community_projects" >Projects</a> </li> </ul> </li> <li> <a href="/docs/" >Documentation</a> </li> </ul> </div> </div> </div> <main> <div id="main-header"></div> <div class="side-bar"> <div class="site-header"> <a href="/docs/latest/" id="menu-button" class="site-button"> Documentation <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-grid"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <div class="version-wrapper"> <version-selector selected="2.7"></version-selector> </div> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/" class="nav-list-link">OpenSearch documentation</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/about/" class="nav-list-link">About OpenSearch</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/quickstart/" class="nav-list-link">Quickstart</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/version-history/" class="nav-list-link">Version history</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/breaking-changes/" class="nav-list-link">Breaking changes</a></li></ul></li></ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a> <div class="nav-category"><a href="/install-and-configure/index/">Install and upgrade</a></div> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/install-and-configure/install-opensearch/index/" class="nav-list-link">Installing OpenSearch</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/install-and-configure/install-opensearch/docker/" class="nav-list-link">Docker</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/install-and-configure/install-opensearch/helm/" class="nav-list-link">Helm</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/install-and-configure/install-opensearch/tar/" class="nav-list-link">Tarball</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/install-and-configure/install-opensearch/rpm/" class="nav-list-link">RPM</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/install-and-configure/install-opensearch/debian/" class="nav-list-link">Debian</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/install-and-configure/install-opensearch/ansible/" class="nav-list-link">Ansible playbook</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/install-and-configure/install-opensearch/windows/" class="nav-list-link">Windows</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/install-and-configure/install-dashboards/index/" class="nav-list-link">Installing OpenSearch Dashboards</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/install-and-configure/install-dashboards/docker/" class="nav-list-link">Docker</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/install-and-configure/install-dashboards/tar/" class="nav-list-link">Tarball</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/install-and-configure/install-dashboards/rpm/" class="nav-list-link">RPM</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/install-and-configure/install-dashboards/debian/" class="nav-list-link">Debian</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/install-and-configure/install-dashboards/helm/" class="nav-list-link">Helm</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/install-and-configure/install-dashboards/windows/" class="nav-list-link">Windows</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/install-and-configure/install-dashboards/tls/" class="nav-list-link">Configure TLS</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/install-and-configure/upgrade-opensearch/index/" class="nav-list-link">Upgrading OpenSearch</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/install-and-configure/upgrade-opensearch/rolling-upgrade/" class="nav-list-link">Rolling Upgrade</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/install-and-configure/upgrade-opensearch/appendix/index/" class="nav-list-link">Upgrades appendix</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/install-and-configure/upgrade-opensearch/appendix/rolling-upgrade-lab/" class="nav-list-link">Rolling upgrade lab</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/install-and-configure/configuration/" class="nav-list-link">Configuring OpenSearch</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/install-and-configure/plugins/" class="nav-list-link">Installing plugins</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/install-and-configure/install-dashboards/plugins/" class="nav-list-link">Managing OpenSearch Dashboards plugins</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a> <div class="nav-category"><a href="/upgrade-to/index/">Migrate to OpenSearch</a></div> <ul class="nav-list"><li class="nav-list-item"><a href="https://vagimeli.github.io/upgrade-to/snapshot-migrate/" class="nav-list-link">Using snapshots to migrate data</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/upgrade-to/upgrade-to/" class="nav-list-link">Migrating from Elasticsearch OSS to OpenSearch</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/upgrade-to/docker-upgrade-to/" class="nav-list-link">Migrating Docker clusters to OpenSearch</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/upgrade-to/dashboards-upgrade-to/" class="nav-list-link">Migrating from Kibana OSS to OpenSearch Dashboards</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a> <div class="nav-category"><a href="/im-plugin/index/">Managing Indexes</a></div> <ul class="nav-list"><li class="nav-list-item"><a href="https://vagimeli.github.io/im-plugin/index-templates/" class="nav-list-link">Index templates</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/im-plugin/index-alias/" class="nav-list-link">Index aliases</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/im-plugin/data-streams/" class="nav-list-link">Data streams</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/im-plugin/reindex-data/" class="nav-list-link">Reindex data</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/im-plugin/ism/index/" class="nav-list-link">Index State Management</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/im-plugin/ism/policies/" class="nav-list-link">Policies</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/im-plugin/ism/managedindexes/" class="nav-list-link">Managed indexes</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/im-plugin/ism/settings/" class="nav-list-link">Settings</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/im-plugin/ism/api/" class="nav-list-link">ISM API</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/im-plugin/index-transforms/index/" class="nav-list-link">Index transforms</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/im-plugin/index-transforms/transforms-apis/" class="nav-list-link">Transforms APIs</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/im-plugin/index-rollups/index/" class="nav-list-link">Index rollups</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/im-plugin/index-rollups/rollup-api/" class="nav-list-link">Index rollups API</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/im-plugin/index-rollups/settings/" class="nav-list-link">Settings</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/im-plugin/security/" class="nav-list-link">Index management security</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/im-plugin/ism/error-prevention/index/" class="nav-list-link">ISM Error Prevention</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/im-plugin/ism/error-prevention/resolutions/" class="nav-list-link">ISM Error Prevention resolutions</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/im-plugin/ism/error-prevention/api/" class="nav-list-link">ISM Error Prevention API</a></li></ul></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a> <div class="nav-category"><a href="/dashboards/index/">OpenSearch Dashboards</a></div> <ul class="nav-list"><li class="nav-list-item"><a href="https://vagimeli.github.io/dashboards/quickstart/" class="nav-list-link">Quickstart guide</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/dashboards/branding/" class="nav-list-link">Customizing your branding</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/dashboards/discover/index-discover/" class="nav-list-link">Exploring data</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/dashboards/discover/time-filter/" class="nav-list-link">Setting the time filter</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/dashboards/discover/multi-data-sources/" class="nav-list-link">Adding multiple data sources</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/dashboards/discover/dql/" class="nav-list-link">Using Dashboards Query Language</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/dashboards/dashboard/index/" class="nav-list-link">Creating dashboards</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/dashboards/visualize/viz-index/" class="nav-list-link">Building data visualizations</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/dashboards/visualize/area/" class="nav-list-link">Using area charts</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/dashboards/visualize/geojson-regionmaps/" class="nav-list-link">Using coordinate and region maps</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/dashboards/visualize/maps/" class="nav-list-link">Using maps</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/dashboards/visualize/maps-stats-api/" class="nav-list-link">Maps Stats API</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/dashboards/visualize/maptiles/" class="nav-list-link">Configuring a Web Map Service (WMS)</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/dashboards/visualize/selfhost-maps-server/" class="nav-list-link">Using the self-host maps server</a> </li></ul></li><li class="nav-list-item "><a href="https://vagimeli.github.io/dashboards/visualize/gantt/" class="nav-list-link">Using Gantt charts</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/dashboards/visualize/visbuilder/" class="nav-list-link">Using VisBuilder</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/dashboards/reporting/" class="nav-list-link">Creating reports with the Dashboards interface</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/dashboards/reporting-cli/rep-cli-index/" class="nav-list-link">Creating reports with the Reporting CLI</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/dashboards/reporting-cli/rep-cli-install/" class="nav-list-link">Downloading and installing the Reporting CLI tool</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/dashboards/reporting-cli/rep-cli-create/" class="nav-list-link">Creating and requesting a visualization report</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/dashboards/reporting-cli/rep-cli-cron/" class="nav-list-link">Scheduling reports with the cron utility</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/dashboards/reporting-cli/rep-cli-lambda/" class="nav-list-link">Scheduling reports with AWS Lambda</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/dashboards/reporting-cli/rep-cli-options/" class="nav-list-link">Reporting CLI options</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/dashboards/reporting-cli/rep-cli-env-var/" class="nav-list-link">Using environment variables with the Reporting CLI</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/dashboards/im-dashboards/index/" class="nav-list-link">Index management in Dashboards</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/dashboards/im-dashboards/index-management/" class="nav-list-link">Indexes</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/dashboards/im-dashboards/datastream/" class="nav-list-link">Data streams</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/dashboards/im-dashboards/forcemerge/" class="nav-list-link">Force merge</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/dashboards/im-dashboards/rollover/" class="nav-list-link">Rollover</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/dashboards/im-dashboards/component-templates/" class="nav-list-link">Component templates</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/dashboards/sm-dashboards/" class="nav-list-link">Snapshot management in Dashboards</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/dashboards/dev-tools/index-dev/" class="nav-list-link">Dev Tools</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/dashboards/dev-tools/run-queries/" class="nav-list-link">Running queries in the Dev Tools console</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/dashboards/search-telemetry/" class="nav-list-link">Managing search telemetry settings</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a> <div class="nav-category"><a href="/tuning-your-cluster/index/">Creating and tuning your cluster</a></div> <ul class="nav-list"><li class="nav-list-item"><a href="https://vagimeli.github.io/tuning-your-cluster/cluster-manager-task-throttling/" class="nav-list-link">Cluster manager task throttling</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/tuning-your-cluster/replication-plugin/index/" class="nav-list-link">Cross-cluster replication</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/tuning-your-cluster/replication-plugin/getting-started/" class="nav-list-link">Getting started</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/tuning-your-cluster/replication-plugin/auto-follow/" class="nav-list-link">Auto-follow</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/tuning-your-cluster/replication-plugin/permissions/" class="nav-list-link">Replication security</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/tuning-your-cluster/replication-plugin/settings/" class="nav-list-link">Replication settings</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/tuning-your-cluster/replication-plugin/api/" class="nav-list-link">API</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/tuning-your-cluster/availability-and-recovery/index/" class="nav-list-link">Availability and Recovery</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/tuning-your-cluster/availability-and-recovery/snapshots/index/" class="nav-list-link">Snapshots</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/tuning-your-cluster/availability-and-recovery/snapshots/snapshot-restore/" class="nav-list-link">Take and restore snapshots</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/tuning-your-cluster/availability-and-recovery/snapshots/snapshot-management/" class="nav-list-link">Snapshot management</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/tuning-your-cluster/availability-and-recovery/snapshots/sm-api/" class="nav-list-link">Snapshot management API</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/tuning-your-cluster/availability-and-recovery/snapshots/searchable_snapshot/" class="nav-list-link">Searchable snapshots</a> </li></ul></li><li class="nav-list-item "><a href="https://vagimeli.github.io/tuning-your-cluster/availability-and-recovery/remote/" class="nav-list-link">Remote-backed storage</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/tuning-your-cluster/availability-and-recovery/search-backpressure/" class="nav-list-link">Search backpressure</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/tuning-your-cluster/availability-and-recovery/shard-indexing-backpressure/" class="nav-list-link">Shard indexing backpressure</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/tuning-your-cluster/availability-and-recovery/stats-api/" class="nav-list-link">Stats API</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/tuning-your-cluster/availability-and-recovery/shard-indexing-settings/" class="nav-list-link">Settings</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/tuning-your-cluster/availability-and-recovery/segment-replication/index/" class="nav-list-link">Segment replication</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/tuning-your-cluster/availability-and-recovery/segment-replication/backpressure/" class="nav-list-link">Segment replication back-pressure</a> </li></ul></li></ul></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a> <div class="nav-category"><a href="/security/index/">Security in OpenSearch</a></div> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/security/configuration/index/" class="nav-list-link">Configuration</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/security/configuration/system-indices/" class="nav-list-link">System indexes</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/configuration/configuration/" class="nav-list-link">Configuring the Security backend</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/configuration/yaml/" class="nav-list-link">Modifying the YAML files</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/configuration/tls/" class="nav-list-link">Configuring TLS certificates</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/configuration/generate-certificates/" class="nav-list-link">Generating self-signed certificates</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/configuration/security-admin/" class="nav-list-link">Applying changes to configuration files</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/configuration/multi-auth/" class="nav-list-link">Configuring sign-in options</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/configuration/disable/" class="nav-list-link">Disabling security</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/security/authentication-backends/authc-index/" class="nav-list-link">Authentication backends</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/security/authentication-backends/openid-connect/" class="nav-list-link">OpenID Connect</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/authentication-backends/saml/" class="nav-list-link">SAML</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/authentication-backends/ldap/" class="nav-list-link">Active Directory and LDAP</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/authentication-backends/proxy/" class="nav-list-link">Proxy-based authentication</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/authentication-backends/client-auth/" class="nav-list-link">Client certificate authentication</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/security/access-control/index/" class="nav-list-link">Access control</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/security/access-control/users-roles/" class="nav-list-link">Users and roles</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/access-control/document-level-security/" class="nav-list-link">Document-level security</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/access-control/field-level-security/" class="nav-list-link">Field-level security</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/access-control/field-masking/" class="nav-list-link">Field masking</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/access-control/impersonation/" class="nav-list-link">User impersonation</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/access-control/cross-cluster-search/" class="nav-list-link">Cross-cluster search</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/access-control/permissions/" class="nav-list-link">Permissions</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/access-control/default-action-groups/" class="nav-list-link">Default action groups</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/access-control/api/" class="nav-list-link">API</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/security/audit-logs/index/" class="nav-list-link">Audit logs</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/security/audit-logs/field-reference/" class="nav-list-link">Audit log field reference</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/audit-logs/storage-types/" class="nav-list-link">Audit log storage types</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/security/multi-tenancy/tenant-index/" class="nav-list-link">OpenSearch Dashboards multi-tenancy</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/security/multi-tenancy/multi-tenancy-config/" class="nav-list-link">Multi-tenancy configuration</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/multi-tenancy/dynamic-config/" class="nav-list-link">Dynamic configuration in OpenSearch Dashboards</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security/multi-tenancy/mt-agg-view/" class="nav-list-link">Multi-tenancy aggregate view for saved objects</a></li></ul></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a> <div class="nav-category"><a href="/security-analytics/index/">Security analytics</a></div> <ul class="nav-list"><li class="nav-list-item"><a href="https://vagimeli.github.io/security-analytics/security/" class="nav-list-link">OpenSearch Security for Security Analytics</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/security-analytics/sec-analytics-config/index/" class="nav-list-link">Setting up Security Analytics</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/security-analytics/sec-analytics-config/detectors-config/" class="nav-list-link">Creating detectors</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security-analytics/sec-analytics-config/correlation-config/" class="nav-list-link">Creating correlation rules</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/security-analytics/usage/index/" class="nav-list-link">Using Security Analytics</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/security-analytics/usage/overview/" class="nav-list-link">The Overview page</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security-analytics/usage/detectors/" class="nav-list-link">Working with detectors</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security-analytics/usage/findings/" class="nav-list-link">Working with findings</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security-analytics/usage/rules/" class="nav-list-link">Working with rules</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security-analytics/usage/correlation-graph/" class="nav-list-link">Working with the correlation graph</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security-analytics/usage/alerts/" class="nav-list-link">Working with alerts</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/security-analytics/api-tools/index/" class="nav-list-link">API tools</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/security-analytics/api-tools/detector-api/" class="nav-list-link">Detector APIs</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security-analytics/api-tools/rule-api/" class="nav-list-link">Rule APIs</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security-analytics/api-tools/mappings-api/" class="nav-list-link">Mappings APIs</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/security-analytics/api-tools/alert-finding-api/" class="nav-list-link">Alerts and findings APIs</a></li></ul></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a> <div class="nav-category"><a href="/search-plugins/index/">Search</a></div> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/search-plugins/searching-data/index/" class="nav-list-link">Searching data</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/searching-data/paginate/" class="nav-list-link">Paginate results</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/searching-data/sort/" class="nav-list-link">Sort results</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/searching-data/highlight/" class="nav-list-link">Highlight query matches</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/searching-data/autocomplete/" class="nav-list-link">Autocomplete</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/searching-data/did-you-mean/" class="nav-list-link">Did-you-mean</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/search-plugins/sql/index/" class="nav-list-link">SQL and PPL</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/sql/sql-ppl-api/" class="nav-list-link">SQL/PPL API</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/sql/response-formats/" class="nav-list-link">Response formats</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/sql/cli/" class="nav-list-link">SQL and PPL CLI</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/search-plugins/sql/sql/index/" class="nav-list-link">SQL</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/search-plugins/sql/workbench/" class="nav-list-link">Query Workbench</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/search-plugins/sql/sql/basic/" class="nav-list-link">Basic Queries</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/search-plugins/sql/sql/complex/" class="nav-list-link">Complex Queries</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/search-plugins/sql/sql/functions/" class="nav-list-link">Functions</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/search-plugins/sql/sql/partiql/" class="nav-list-link">JSON Support</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/search-plugins/sql/sql/metadata/" class="nav-list-link">Metadata Queries</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/search-plugins/sql/sql/aggregations/" class="nav-list-link">Aggregate Functions</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/search-plugins/sql/sql/delete/" class="nav-list-link">Delete</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/search-plugins/sql/sql/jdbc/" class="nav-list-link">JDBC Driver</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/search-plugins/sql/sql/odbc/" class="nav-list-link">ODBC Driver</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/search-plugins/sql/ppl/index/" class="nav-list-link">PPL &ndash; Piped Processing Language</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/search-plugins/sql/ppl/syntax/" class="nav-list-link">Syntax</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/search-plugins/sql/ppl/functions/" class="nav-list-link">Commands</a> </li></ul></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/sql/identifiers/" class="nav-list-link">Identifiers</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/sql/datatypes/" class="nav-list-link">Data Types</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/sql/functions/" class="nav-list-link">Functions</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/sql/full-text/" class="nav-list-link">Full-Text Search</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/sql/settings/" class="nav-list-link">Settings</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/sql/troubleshoot/" class="nav-list-link">Troubleshooting</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/sql/monitoring/" class="nav-list-link">Monitoring</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/sql/limitation/" class="nav-list-link">Limitations</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/search-plugins/search-template/" class="nav-list-link">Search templates</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/search-plugins/knn/index/" class="nav-list-link">k-NN</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/knn/knn-index/" class="nav-list-link">k-NN Index</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/knn/knn-score-script/" class="nav-list-link">Exact k-NN with scoring script</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/knn/approximate-knn/" class="nav-list-link">Approximate search</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/knn/filter-search-knn/" class="nav-list-link">k-NN search with filters</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/knn/painless-functions/" class="nav-list-link">k-NN Painless extensions</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/knn/api/" class="nav-list-link">API</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/knn/jni-libraries/" class="nav-list-link">JNI libraries</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/knn/settings/" class="nav-list-link">Settings</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/knn/performance-tuning/" class="nav-list-link">Performance tuning</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/search-plugins/async/index/" class="nav-list-link">Asynchronous search</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/async/security/" class="nav-list-link">Asynchronous search security</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/async/settings/" class="nav-list-link">Settings</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/search-plugins/search-relevance/index/" class="nav-list-link">Search relevance</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/search-relevance/stats-api/" class="nav-list-link">Search Relevance Stats API</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/search-plugins/point-in-time/" class="nav-list-link">Point in Time</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/search-plugins/point-in-time-api/" class="nav-list-link">Point in Time API</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/search-plugins/neural-search/" class="nav-list-link">Neural Search plugin</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/search-plugins/querqy/index/" class="nav-list-link">Querqy</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a> <div class="nav-category"><a href="/ml-commons-plugin/index/">Machine learning</a></div> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/ml-commons-plugin/model-serving-framework/" class="nav-list-link">Model-serving framework</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/ml-commons-plugin/pretrained-models/" class="nav-list-link">Pretrained models</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/ml-commons-plugin/gpu-acceleration/" class="nav-list-link">GPU acceleration</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/ml-commons-plugin/api/" class="nav-list-link">API</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/ml-commons-plugin/algorithms/" class="nav-list-link">Supported Algorithms</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/ml-commons-plugin/ml-dashboard/" class="nav-list-link">Managing ML models in OpenSearch Dashboards</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/ml-commons-plugin/cluster-settings/" class="nav-list-link">ML Commons cluster settings</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a> <div class="nav-category"><a href="/monitoring-your-cluster/index/">Monitoring your cluster</a></div> <ul class="nav-list"><li class="nav-list-item"><a href="https://vagimeli.github.io/monitoring-your-cluster/job-scheduler/index/" class="nav-list-link">Job Scheduler</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/monitoring-your-cluster/pa/index/" class="nav-list-link">Performance Analyzer</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/monitoring-your-cluster/pa/api/" class="nav-list-link">API</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/monitoring-your-cluster/pa/dashboards/" class="nav-list-link">Create PerfTop Dashboards</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/monitoring-your-cluster/pa/reference/" class="nav-list-link">Metrics Reference</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/monitoring-your-cluster/pa/rca/index/" class="nav-list-link">Root Cause Analysis</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/monitoring-your-cluster/pa/rca/api/" class="nav-list-link">API</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/monitoring-your-cluster/pa/rca/reference/" class="nav-list-link">RCA Reference</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/monitoring-your-cluster/pa/rca/shard-hotspot/" class="nav-list-link">Hot shard identification</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/monitoring-your-cluster/logs/" class="nav-list-link">Logs</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a> <div class="nav-category"><a href="/observing-your-data/index/">Observability</a></div> <ul class="nav-list"><li class="nav-list-item"><a href="https://vagimeli.github.io/observing-your-data/observability-security/" class="nav-list-link">Observability security</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/observing-your-data/app-analytics/" class="nav-list-link">Application analytics</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/observing-your-data/event-analytics/" class="nav-list-link">Event analytics</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/observing-your-data/log-ingestion/" class="nav-list-link">Log ingestion</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/observing-your-data/prometheusmetrics/" class="nav-list-link">Metrics analytics</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/observing-your-data/trace/index/" class="nav-list-link">Trace Analytics</a><ul class="nav-list "></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/observing-your-data/notebooks/" class="nav-list-link">Notebooks</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/observing-your-data/operational-panels/" class="nav-list-link">Operational panels</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/observing-your-data/alerting/index/" class="nav-list-link">Alerting</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/observing-your-data/alerting/monitors/" class="nav-list-link">Monitors</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/observing-your-data/alerting/settings/" class="nav-list-link">Management</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/observing-your-data/alerting/security/" class="nav-list-link">Alerting security</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/observing-your-data/alerting/api/" class="nav-list-link">API</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/observing-your-data/alerting/cron/" class="nav-list-link">Cron</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/observing-your-data/ad/index/" class="nav-list-link">Anomaly detection</a><ul class="nav-list "><li class="nav-list-item active"><a href="https://vagimeli.github.io/observing-your-data/ad/api/" class="nav-list-link active">Anomaly detection API</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/observing-your-data/ad/settings/" class="nav-list-link">Settings</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/observing-your-data/ad/result-mapping/" class="nav-list-link">Anomaly result mapping</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/observing-your-data/ad/security/" class="nav-list-link">Anomaly detection security</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/observing-your-data/notifications/index/" class="nav-list-link">Notifications</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/observing-your-data/notifications/api/" class="nav-list-link">API</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/observing-your-data/ssfo/" class="nav-list-link">Simple Schema for Observability</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a> <div class="nav-category"><a href="/query-dsl/index/">Query DSL, Aggregations, and Analyzers</a></div> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/query-dsl/" class="nav-list-link">Query DSL</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/query-dsl/query-filter-context/" class="nav-list-link">Query and filter context</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/query-dsl/term-vs-full-text/" class="nav-list-link">Term-level and full-text queries compared</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/query-dsl/term/" class="nav-list-link">Term-level queries</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/query-dsl/full-text/" class="nav-list-link">Full-text queries</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/query-dsl/full-text/query-string/" class="nav-list-link">Query string queries</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/query-dsl/compound/" class="nav-list-link">Compound queries</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/query-dsl/compound/bool/" class="nav-list-link">Boolean queries</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/query-dsl/geo-and-xy/" class="nav-list-link">Geographic and xy queries</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/query-dsl/geo-and-xy/geo-bounding-box/" class="nav-list-link">Geo-bounding box queries</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/query-dsl/geo-and-xy/xy/" class="nav-list-link">xy queries</a> </li></ul></li><li class="nav-list-item "><a href="https://vagimeli.github.io/query-dsl/span-query/" class="nav-list-link">Span queries</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/aggregations/" class="nav-list-link">Aggregations</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/aggregations/metric-agg/" class="nav-list-link">Metric aggregations</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/aggregations/bucket-agg/" class="nav-list-link">Bucket aggregations</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/aggregations/geohexgrid/" class="nav-list-link">GeoHex grid aggregations</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/aggregations/pipeline-agg/" class="nav-list-link">Pipeline aggregations</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/analyzers/text-analyzers/" class="nav-list-link">Text analyzers</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/query-dsl/analyzers/language-analyzers/" class="nav-list-link">Language analyzers</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/query-dsl/analyzers/refresh-analyzer/" class="nav-list-link">Refresh search analyzer</a></li></ul></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a> <div class="nav-category"><a href="/field-types/index/">Mappings and field types</a></div> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/field-types/supported-field-types/index/" class="nav-list-link">Supported field types</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/field-types/supported-field-types/alias/" class="nav-list-link">Alias</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/field-types/supported-field-types/binary/" class="nav-list-link">Binary</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/field-types/supported-field-types/numeric/" class="nav-list-link">Numeric field types</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/field-types/supported-field-types/boolean/" class="nav-list-link">Boolean</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/field-types/supported-field-types/date/" class="nav-list-link">Date</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/field-types/supported-field-types/ip/" class="nav-list-link">IP address</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/field-types/supported-field-types/range/" class="nav-list-link">Range field types</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/field-types/supported-field-types/object-fields/" class="nav-list-link">Object field types</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/field-types/supported-field-types/object/" class="nav-list-link">Object</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/field-types/supported-field-types/nested/" class="nav-list-link">Nested</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/field-types/flat-object/" class="nav-list-link">Flat object</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/field-types/supported-field-types/join/" class="nav-list-link">Join</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/field-types/supported-field-types/string/" class="nav-list-link">String field types</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/field-types/supported-field-types/keyword/" class="nav-list-link">Keyword</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/field-types/supported-field-types/text/" class="nav-list-link">Text</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/field-types/supported-field-types/token-count/" class="nav-list-link">Token count</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/field-types/supported-field-types/autocomplete/" class="nav-list-link">Autocomplete field types</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/field-types/supported-field-types/completion/" class="nav-list-link">Completion</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/field-types/supported-field-types/search-as-you-type/" class="nav-list-link">Search as you type</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/field-types/supported-field-types/geographic/" class="nav-list-link">Geographic field types</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/field-types/supported-field-types/geo-point/" class="nav-list-link">Geopoint</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/field-types/supported-field-types/geo-shape/" class="nav-list-link">Geoshape</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/field-types/supported-field-types/xy/" class="nav-list-link">Cartesian field types</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/field-types/supported-field-types/xy-point/" class="nav-list-link">xy point</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/field-types/supported-field-types/xy-shape/" class="nav-list-link">xy shape</a> </li></ul></li><li class="nav-list-item "><a href="https://vagimeli.github.io/field-types/supported-field-types/rank/" class="nav-list-link">Rank field types</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/field-types/supported-field-types/percolator/" class="nav-list-link">Percolator</a></li></ul></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a> <div class="nav-category"><a href="/clients/index/">Clients</a></div> <ul class="nav-list"><li class="nav-list-item"><a href="https://vagimeli.github.io/clients/python-high-level/" class="nav-list-link">High-level Python client</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/clients/python-low-level/" class="nav-list-link">Low-level Python client</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/clients/opensearch-py-ml/" class="nav-list-link">Opensearch-py-ml</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/clients/java-rest-high-level/" class="nav-list-link">Java high-level REST client</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/clients/java/" class="nav-list-link">Java client</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/clients/javascript/index/" class="nav-list-link">JavaScript client</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/clients/javascript/helpers/" class="nav-list-link">Helper methods</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/clients/go/" class="nav-list-link">Go client</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/clients/ruby/" class="nav-list-link">Ruby client</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/clients/php/" class="nav-list-link">PHP client</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/clients/dot-net/" class="nav-list-link">.NET clients</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/clients/OSC-dot-net/" class="nav-list-link">Getting started with the high-level .NET client</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/clients/OSC-example/" class="nav-list-link">More advanced features of the high-level .NET client</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/clients/dot-net-conventions/" class="nav-list-link">.NET client considerations</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/clients/OpenSearch-dot-net/" class="nav-list-link">Low-level .NET client</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/clients/rust/" class="nav-list-link">Rust client</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a> <div class="nav-category"><a href="/data-prepper/index/">Data Prepper</a></div> <ul class="nav-list"><li class="nav-list-item"><a href="https://vagimeli.github.io/data-prepper/getting-started/" class="nav-list-link">Getting started</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/data-prepper/pipelines/pipelines/" class="nav-list-link">Pipelines</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/data-prepper/pipelines/pipelines-configuration-options/" class="nav-list-link">Pipeline options</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/data-prepper/pipelines/expression-syntax/" class="nav-list-link">Expression syntax</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/data-prepper/pipelines/dlq/" class="nav-list-link">Dead-letter queues</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/sources/sources/" class="nav-list-link">Sources</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/sources/http-source/" class="nav-list-link">http_source</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/sources/otel-metrics-source/" class="nav-list-link">otel_metrics_source</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/sources/otel-trace/" class="nav-list-link">otel_trace_source source</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/sources/s3/" class="nav-list-link">s3 source</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/sources/otel-logs-source/" class="nav-list-link">otel_logs_source</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/buffers/buffers/" class="nav-list-link">Buffers</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/buffers/bounded-blocking/" class="nav-list-link">Bounded blocking</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/processors/" class="nav-list-link">Processors</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/add-entries/" class="nav-list-link">add_entries</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/aggregate/" class="nav-list-link">aggregate</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/otel-trace-group/" class="nav-list-link">otel_trace_group</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/anomaly-detector/" class="nav-list-link">anomaly_detector</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/convert_entry_type/" class="nav-list-link">convert_entry_type</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/copy-values/" class="nav-list-link">copy_values</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/csv/" class="nav-list-link">csv</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/date/" class="nav-list-link">date</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/delete-entries/" class="nav-list-link">delete_entries</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/drop-events/" class="nav-list-link">drop_events</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/grok/" class="nav-list-link">grok</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/key-value/" class="nav-list-link">key_value</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/list-to-map/" class="nav-list-link">list_to_map</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/lowercase-string/" class="nav-list-link">lowercase_string</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/mutate-event/" class="nav-list-link">Mutate event</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/mutate-string/" class="nav-list-link">Mutate string</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/otel-metrics/" class="nav-list-link">otel_metrics</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/otel-trace-raw/" class="nav-list-link">otel_trace</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/parse-json/" class="nav-list-link">parse_json</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/rename-keys/" class="nav-list-link">rename_keys</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/routes/" class="nav-list-link">routes</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/service-map-stateful/" class="nav-list-link">service_map</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/split-string/" class="nav-list-link">split_string</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/string-converter/" class="nav-list-link">string_converter</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/substitute-string/" class="nav-list-link">substitute_string</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/trace-peer-forwarder/" class="nav-list-link">trace_peer_forwarder</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/trim-string/" class="nav-list-link">trim_string</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/processors/uppercase-string/" class="nav-list-link">uppercase_string</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/sinks/sinks/" class="nav-list-link">Sinks</a><ul class="nav-list"><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/sinks/stdout/" class="nav-list-link">stdout sink</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/sinks/pipeline/" class="nav-list-link">Pipeline sink</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/sinks/opensearch/" class="nav-list-link">OpenSearch sink</a> </li><li class="nav-list-item "> <a href="https://vagimeli.github.io/data-prepper/pipelines/configuration/sinks/file/" class="nav-list-link">file sink</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/data-prepper/common-use-cases/common-use-cases/" class="nav-list-link">Common use cases</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/data-prepper/common-use-cases/trace-analytics/" class="nav-list-link">Trace analytics</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/data-prepper/common-use-cases/log-analytics/" class="nav-list-link">Log analytics</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/data-prepper/common-use-cases/s3-logs/" class="nav-list-link">S3 logs</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/data-prepper/managing-data-prepper/managing-data-prepper/" class="nav-list-link">Managing Data Prepper</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/data-prepper/managing-data-prepper/configuring-data-prepper/" class="nav-list-link">Configuring Data Prepper</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/data-prepper/managing-data-prepper/peer-forwarder/" class="nav-list-link">Peer forwarder</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/data-prepper/managing-data-prepper/core-apis/" class="nav-list-link">Core APIs</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/data-prepper/managing-data-prepper/configuring-log4j/" class="nav-list-link">Configuring Log4j</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/data-prepper/managing-data-prepper/monitoring/" class="nav-list-link">Monitoring</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/data-prepper/migrating-from-logstash-data-prepper/" class="nav-list-link">Migrating from Logstash</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/data-prepper/migrate-open-distro/" class="nav-list-link">Migrating from Open Distro</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a> <div class="nav-category"><a href="/tools/index/">Tools</a></div> <ul class="nav-list"><li class="nav-list-item"><a href="https://vagimeli.github.io/tools/cli/" class="nav-list-link">OpenSearch CLI</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/tools/k8s-operator/" class="nav-list-link">OpenSearch Kubernetes Operator</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/tools/logstash/index/" class="nav-list-link">Logstash</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/tools/logstash/execution-model/" class="nav-list-link">Logstash execution model</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/tools/logstash/read-from-opensearch/" class="nav-list-link">Read from OpenSearch</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/tools/logstash/ship-to-opensearch/" class="nav-list-link">Ship events to OpenSearch</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/tools/logstash/common-filters/" class="nav-list-link">Common filter plugins</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/tools/logstash/advanced-config/" class="nav-list-link">Advanced configurations</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/tools/terraform/" class="nav-list-link">Terraform</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/tools/grafana/" class="nav-list-link">Grafana</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a> <div class="nav-category"><a href="/api-reference/index/">API reference</a></div> <ul class="nav-list"><li class="nav-list-item"><a href="https://vagimeli.github.io/api-reference/alias/" class="nav-list-link">Alias</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/api-reference/analyze-apis/index/" class="nav-list-link">Analyze API</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/analyze-apis/terminology/" class="nav-list-link">Analysis API Terminology</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/analyze-apis/perform-text-analysis/" class="nav-list-link">Perform text analysis</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/api-reference/cat/index/" class="nav-list-link">CAT API</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-aliases/" class="nav-list-link">CAT aliases</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-allocation/" class="nav-list-link">CAT allocation</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-count/" class="nav-list-link">CAT count</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-field-data/" class="nav-list-link">CAT field data</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-health/" class="nav-list-link">CAT health</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-indices/" class="nav-list-link">CAT indices operation</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-cluster_manager/" class="nav-list-link">CAT cluster manager</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-nodeattrs/" class="nav-list-link">CAT nodeattrs</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-nodes/" class="nav-list-link">CAT nodes operation</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-pending-tasks/" class="nav-list-link">CAT pending tasks</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-plugins/" class="nav-list-link">CAT plugins</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-recovery/" class="nav-list-link">CAT recovery</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-repositories/" class="nav-list-link">CAT repositories</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-segment-replication/" class="nav-list-link">CAT segment replication</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-segments/" class="nav-list-link">CAT segments</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-shards/" class="nav-list-link">CAT shards</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-snapshots/" class="nav-list-link">CAT snapshots</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-templates/" class="nav-list-link">CAT templates</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-tasks/" class="nav-list-link">CAT tasks</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cat/cat-thread-pool/" class="nav-list-link">CAT thread pool</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/api-reference/cluster-api/index/" class="nav-list-link">Cluster APIs</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cluster-api/cluster-allocation/" class="nav-list-link">Cluster allocation explain</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cluster-api/cluster-awareness/" class="nav-list-link">Cluster routing and awareness</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cluster-api/cluster-decommission/" class="nav-list-link">Cluster decommission</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cluster-api/cluster-health/" class="nav-list-link">Cluster health</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cluster-api/cluster-settings/" class="nav-list-link">Cluster settings</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/cluster-api/cluster-stats/" class="nav-list-link">Cluster stats</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/api-reference/count/" class="nav-list-link">Count</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/api-reference/document-apis/index/" class="nav-list-link">Document APIs</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/document-apis/index-document/" class="nav-list-link">Index document</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/document-apis/get-documents/" class="nav-list-link">Get document</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/document-apis/update-document/" class="nav-list-link">Update document</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/document-apis/delete-document/" class="nav-list-link">Delete document</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/document-apis/bulk/" class="nav-list-link">Bulk</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/document-apis/multi-get/" class="nav-list-link">Multi-get document</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/document-apis/delete-by-query/" class="nav-list-link">Delete by query</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/document-apis/update-by-query/" class="nav-list-link">Update by query</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/document-apis/reindex/" class="nav-list-link">Reindex document</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/api-reference/explain/" class="nav-list-link">Explain</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/api-reference/index-apis/index/" class="nav-list-link">Index APIs</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/index-apis/create-index/" class="nav-list-link">Create index</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/index-apis/exists/" class="nav-list-link">Index exists</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/index-apis/delete-index/" class="nav-list-link">Delete index</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/index-apis/get-index/" class="nav-list-link">Get index</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/index-apis/close-index/" class="nav-list-link">Close index</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/index-apis/open-index/" class="nav-list-link">Open index</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/index-apis/shrink-index/" class="nav-list-link">Shrink index</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/index-apis/clone/" class="nav-list-link">Clone index</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/index-apis/split/" class="nav-list-link">Split index</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/index-apis/get-settings/" class="nav-list-link">Get settings</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/index-apis/update-settings/" class="nav-list-link">Update settings</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/index-apis/put-mapping/" class="nav-list-link">Create or update mappings</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/index-apis/clear-index-cache/" class="nav-list-link">Clear Index or Data Stream Cache</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/api-reference/ingest-apis/index/" class="nav-list-link">Ingest APIs</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/ingest-apis/get-ingest/" class="nav-list-link">Get ingest pipeline</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/ingest-apis/create-update-ingest/" class="nav-list-link">Create or update ingest pipeline</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/ingest-apis/simulate-ingest/" class="nav-list-link">Simulate an ingest pipeline</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/ingest-apis/delete-ingest/" class="nav-list-link">Delete a pipeline</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/ingest-apis/geoip/" class="nav-list-link">IP geolocation processor</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/api-reference/multi-search/" class="nav-list-link">Multi-search</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/api-reference/nodes-apis/index/" class="nav-list-link">Nodes APIs</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/nodes-apis/nodes-info/" class="nav-list-link">Nodes info</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/nodes-apis/nodes-stats/" class="nav-list-link">Nodes stats</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/nodes-apis/nodes-hot-threads/" class="nav-list-link">Nodes hot threads</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/nodes-apis/nodes-usage/" class="nav-list-link">Nodes usage</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/nodes-apis/nodes-reload-secure/" class="nav-list-link">Nodes reload secure settings</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/api-reference/rank-eval/" class="nav-list-link">Ranking evaluation</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/api-reference/reload-search-analyzer/" class="nav-list-link">Reload search analyzer</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/api-reference/remote-info/" class="nav-list-link">Remote cluster information</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/api-reference/script-apis/index/" class="nav-list-link">Script APIs</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/script-apis/create-stored-script/" class="nav-list-link">Create or Update Stored Script</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/script-apis/exec-stored-script/" class="nav-list-link">Execute Painless stored script</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/script-apis/get-stored-script/" class="nav-list-link">Get Stored Script</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/script-apis/delete-script/" class="nav-list-link">Delete Script</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/script-apis/get-script-contexts/" class="nav-list-link">Get Stored Script Contexts</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/script-apis/get-script-language/" class="nav-list-link">Get Script Language</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/script-apis/exec-script/" class="nav-list-link">Execute Painless script</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/api-reference/scroll/" class="nav-list-link">Scroll</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/api-reference/search/" class="nav-list-link">Search</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://vagimeli.github.io/api-reference/snapshots/index/" class="nav-list-link">Snapshot APIs</a><ul class="nav-list "><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/snapshots/create-repository/" class="nav-list-link">Register Snapshot Repository</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/snapshots/get-snapshot-repository/" class="nav-list-link">Get Snapshot Repository</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/snapshots/delete-snapshot-repository/" class="nav-list-link">Delete Snapshot Repository</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/snapshots/verify-snapshot-repository/" class="nav-list-link">Verify Snaphot Repository</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/snapshots/create-snapshot/" class="nav-list-link">Create Snapshot</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/snapshots/get-snapshot/" class="nav-list-link">Get Snapshot</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/snapshots/delete-snapshot/" class="nav-list-link">Delete Snapshot</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/snapshots/get-snapshot-status/" class="nav-list-link">Get Snapshot Status</a></li><li class="nav-list-item "><a href="https://vagimeli.github.io/api-reference/snapshots/restore-snapshot/" class="nav-list-link">Restore Snapshot</a></li></ul></li><li class="nav-list-item"><a href="https://vagimeli.github.io/api-reference/tasks/" class="nav-list-link">Tasks</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/api-reference/units/" class="nav-list-link">Supported units</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/api-reference/common-parameters/" class="nav-list-link">Common REST Parameters</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/api-reference/popular-api/" class="nav-list-link">Popular APIs</a></li></ul> </li> </ul> <ul class="nav-list nav-category-list"> <li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a> <div class="nav-category"><a href="/troubleshoot/index/">Troubleshooting</a></div> <ul class="nav-list"><li class="nav-list-item"><a href="https://vagimeli.github.io/troubleshoot/security-admin/" class="nav-list-link">Troubleshoot securityadmin.sh</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/troubleshoot/tls/" class="nav-list-link">Troubleshoot TLS</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/troubleshoot/saml/" class="nav-list-link">Troubleshoot SAML</a></li><li class="nav-list-item"><a href="https://vagimeli.github.io/troubleshoot/openid-connect/" class="nav-list-link">Troubleshoot OpenID Connect</a></li></ul> </li> </ul> </nav> </div> <div class="copy-banner"> <div class="container"> <h1><a href="/docs/latest/">Documentation</a></h1> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search..." aria-label="Search OpenSearch documentation" data-docs-version="2.7" autocomplete="off"> <div class="search-spinner"><i></i></div> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results custom-search-results"></div> </div> </div> <div class="search-overlay"></div> </div> <div class="main"> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="https://vagimeli.github.io/observing-your-data/ad/index/">Anomaly detection</a></li> <li class="breadcrumb-nav-list-item"><span>Anomaly detection API</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="anomaly-detection-api">Anomaly detection API</h1> <p>Use these anomaly detection operations to programmatically create and manage detectors.</p> <hr /> <h4 id="table-of-contents">Table of contents</h4> <ul id="markdown-toc"> <li><a href="#create-anomaly-detector" id="markdown-toc-create-anomaly-detector">Create anomaly detector</a></li> <li><a href="#validate-detector" id="markdown-toc-validate-detector">Validate detector</a></li> <li><a href="#get-detector" id="markdown-toc-get-detector">Get detector</a></li> <li><a href="#update-detector" id="markdown-toc-update-detector">Update detector</a></li> <li><a href="#delete-detector" id="markdown-toc-delete-detector">Delete detector</a></li> <li><a href="#preview-detector" id="markdown-toc-preview-detector">Preview detector</a></li> <li><a href="#start-detector-job" id="markdown-toc-start-detector-job">Start detector job</a></li> <li><a href="#stop-detector-job" id="markdown-toc-stop-detector-job">Stop detector job</a></li> <li><a href="#search-detector" id="markdown-toc-search-detector">Search detector</a></li> <li><a href="#search-detector-tasks" id="markdown-toc-search-detector-tasks">Search detector tasks</a></li> <li><a href="#search-detector-result" id="markdown-toc-search-detector-result">Search detector result</a></li> <li><a href="#search-top-anomalies" id="markdown-toc-search-top-anomalies">Search top anomalies</a></li> <li><a href="#get-detector-stats" id="markdown-toc-get-detector-stats">Get detector stats</a></li> <li><a href="#profile-detector" id="markdown-toc-profile-detector">Profile detector</a></li> <li><a href="#delete-detector-results" id="markdown-toc-delete-detector-results">Delete detector results</a></li> <li><a href="#create-monitor" id="markdown-toc-create-monitor">Create monitor</a></li> </ul> <hr /> <h2 id="create-anomaly-detector">Create anomaly detector</h2> <p class="label label-purple">Introduced 1.0</p> <p>Creates an anomaly detector.</p> <p>This command creates a single-entity detector named <code class="language-plaintext highlighter-rouge">test-detector</code> that finds anomalies based on the sum of the <code class="language-plaintext highlighter-rouge">value</code> field and stores the result in a custom <code class="language-plaintext highlighter-rouge">opensearch-ad-plugin-result-test</code> index:</p> <h4 id="request">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-detector"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test detector"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"server_log*"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"gt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"result_index"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"opensearch-ad-plugin-result-test"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VEHKTXwBwf_U8gjUXY2s"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_seq_no"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"anomaly_detector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"server_log*"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"include_lower"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"include_upper"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U0HKTXwBwf_U8gjUXY2m"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633392680364</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"admin"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"all_access"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detector_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SINGLE_ENTITY"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"_primary_term"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>To create a high cardinality detector by specifying a category field:</p> <h4 id="request-1">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-hc-detector"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test detector"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"server_log*"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"gt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"category_field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"ip"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-1">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b0HRTXwBwf_U8gjUw43R"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_seq_no"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="nl">"anomaly_detector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-hc-detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"server_log*"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"include_lower"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"include_upper"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bkHRTXwBwf_U8gjUw43K"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633393165265</span><span class="p">,</span><span class="w">
    </span><span class="nl">"category_field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"ip"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"admin"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"all_access"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detector_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MULTI_ENTITY"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"_primary_term"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>You can specify a maximum of two category fields:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"category_field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="s2">"ip"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nl">"category_field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="s2">"ip"</span><span class="p">,</span><span class="w"> </span><span class="s2">"error_type"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div> <p>You can specify the following options.</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Options</th> <th style="text-align: left">Description</th> <th style="text-align: left">Type</th> <th style="text-align: left">Required</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">name</code></td> <td style="text-align: left">The name of the detector.</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td> <td style="text-align: left">Yes</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">description</code></td> <td style="text-align: left">A description of the detector.</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td> <td style="text-align: left">No</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">time_field</code></td> <td style="text-align: left">The name of the time field.</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td> <td style="text-align: left">Yes</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">indices</code></td> <td style="text-align: left">A list of indices to use as the data source.</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">list</code></td> <td style="text-align: left">Yes</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">feature_attributes</code></td> <td style="text-align: left">Specify a <code class="language-plaintext highlighter-rouge">feature_name</code>, set the <code class="language-plaintext highlighter-rouge">enabled</code> parameter to <code class="language-plaintext highlighter-rouge">true</code>, and specify an aggregation query.</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">list</code></td> <td style="text-align: left">Yes</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">filter_query</code></td> <td style="text-align: left">Provide an optional filter query for your feature.</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td> <td style="text-align: left">No</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">detection_interval</code></td> <td style="text-align: left">The time interval for your anomaly detector.</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td> <td style="text-align: left">Yes</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">window_delay</code></td> <td style="text-align: left">Add extra processing time for data collection.</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">object</code></td> <td style="text-align: left">No</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">category_field</code></td> <td style="text-align: left">Categorizes or slices data with a dimension. Similar to <code class="language-plaintext highlighter-rouge">GROUP BY</code> in SQL.</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">list</code></td> <td style="text-align: left">No</td> </tr> </tbody> </table></div> <hr /> <h2 id="validate-detector">Validate detector</h2> <p class="label label-purple">Introduced 1.2</p> <p>Returns whether the detector configuration has any issues that might prevent OpenSearch from creating the detector.</p> <p>You can use the validate detector API operation to identify issues in your detector configuration before creating the detector.</p> <p>The request body consists of the detector configuration and follows the same format as the request body of the <a href="https://vagimeli.github.io/monitoring-plugins/ad/api#create-anomaly-detector">create detector API</a>.</p> <p>You have the following validation options:</p> <ul> <li>Only validate against the detector configuration and find any issues that would completely block detector creation:</li> </ul> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST _plugins/_anomaly_detection/detectors/_validate
POST _plugins/_anomaly_detection/detectors/_validate/detector
</code></pre></div></div> <ul> <li>Validate against the source data to see how likely the detector would complete model training.</li> </ul> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST _plugins/_anomaly_detection/detectors/_validate/model
</code></pre></div></div> <p>Responses from this API operation return either blocking issues as detector type responses or a response indicating a field that could be revised to increase likelihood of model training completing successfully. Model type issues don‚Äôt need to be fixed for detector creation to succeed, but the detector would likely not train successfully if they aren‚Äôt addressed.</p> <h4 id="request-2">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/_validate</span><span class="w">
</span><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/_validate/detector</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-detector"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test detector"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"server_log*"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"gt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>If the validate detector API doesn‚Äôt find any issue in the detector configuration, it returns an empty response:</p> <h4 id="example-response-2">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{}</span><span class="w">
</span></code></pre></div></div> <p>If the validate detector API finds an issue, it returns a message explaining what‚Äôs wrong with the configuration. In this example, the feature query aggregates over a field that doesn‚Äôt exist in the data source:</p> <h4 id="example-response-3">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"detector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Feature has invalid query returning empty aggregated data: average_total_rev"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sub_issues"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"average_total_rev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Feature has invalid query returning empty aggregated data"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>The following request validates against the source data to see if model training might succeed. In this example, the data is ingested at a rate of every 5 minutes, and detector interval is set to 1 minute.</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/_validate/model</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-detector"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test detector"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"server_log*"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"gt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>If the validate detector API finds areas of improvement with your configuration, it returns a response with suggestions about how you can change your configuration to improve model training.</p> <h4 id="sample-responses">Sample Responses</h4> <p>In this example, the validate detector API returns a response indicating that changing the detector interval length to at least four minutes can increase the chances of successful model training.</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The selected detector interval might collect sparse data. Consider changing interval length to: 4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"suggested_value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>Another response might indicate that you can change <code class="language-plaintext highlighter-rouge">filter_query</code> (data filter) because the currently filtered data is too sparse for the model to train correctly, which can happen because the index is also ingesting data that falls outside the chosen filter. Using another <code class="language-plaintext highlighter-rouge">filter_query</code> can make your data more dense.</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Data is too sparse after data filter is applied. Consider changing the data filter"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <hr /> <h2 id="get-detector">Get detector</h2> <p class="label label-purple">Introduced 1.0</p> <p>Returns all information about a detector based on the <code class="language-plaintext highlighter-rouge">detector_id</code>.</p> <h4 id="request-3">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-4">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VEHKTXwBwf_U8gjUXY2s"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_primary_term"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_seq_no"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"anomaly_detector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"server_log*"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"include_lower"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"include_upper"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U0HKTXwBwf_U8gjUXY2m"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633392680364</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"admin"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"all_access"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detector_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SINGLE_ENTITY"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>A ‚Äújob‚Äù is something that you schedule to run periodically, so it‚Äôs only applicable for real-time anomaly detection and not historical analysis that you run just one time.</p> <p>When you start a real-time detector, the anomaly detection plugin creates a job or if the job already exists updates it. When you start or a restart a real-time detector, the plugin creates a new real-time task that records run-time information like detector configuration snapshot, real-time job states (initializing/running/stopped), init progress, and so on.</p> <p>A single detector can only have one real-time job (job ID is the same as detector ID), but it can have multiple real-time tasks because each restart of a real-time job creates a new real-time task. You can limit the number of real-time tasks with the <code class="language-plaintext highlighter-rouge">plugins.anomaly_detection.max_old_ad_task_docs_per_detector</code> setting.</p> <p>Historical analysis doesn‚Äôt have an associated job. When you start or rerun historical analysis for a detector, the anomaly detection plugin creates a new historical batch task that tracks the historical analysis runtime information like state, coordinating/worker node, task progress, and so on. You can limit the historical task number with the <code class="language-plaintext highlighter-rouge">plugins.anomaly_detection.max_old_ad_task_docs_per_detector</code> setting.</p> <p>Use <code class="language-plaintext highlighter-rouge">job=true</code> to get real-time analysis task information.</p> <h4 id="request-4">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;?job=</span><span class="kc">true</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-5">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VEHKTXwBwf_U8gjUXY2s"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_primary_term"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_seq_no"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"anomaly_detector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"server_log*"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"include_lower"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"include_upper"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U0HKTXwBwf_U8gjUXY2m"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633392680364</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"admin"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"all_access"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detector_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SINGLE_ENTITY"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"anomaly_detector_job"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VEHKTXwBwf_U8gjUXY2s"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633393656357</span><span class="p">,</span><span class="w">
        </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633393656357</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633393656357</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lock_duration_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"admin"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"all_access"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>Use <code class="language-plaintext highlighter-rouge">task=true</code> to get information for both real-time and historical analysis task information.</p> <h4 id="request-5">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;?task=</span><span class="kc">true</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-6">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VEHKTXwBwf_U8gjUXY2s"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_primary_term"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_seq_no"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"anomaly_detector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"server_log*"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"include_lower"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"include_upper"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U0HKTXwBwf_U8gjUXY2m"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633392680364</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"admin"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"all_access"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detector_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SINGLE_ENTITY"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"realtime_detection_task"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nkTZTXwBjd8s6RK4QlMq"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633393776375</span><span class="p">,</span><span class="w">
    </span><span class="nl">"started_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RUNNING"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VEHKTXwBwf_U8gjUXY2s"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"task_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"init_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"execution_start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633393656362</span><span class="p">,</span><span class="w">
    </span><span class="nl">"is_latest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"task_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REALTIME_SINGLE_ENTITY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"coordinating_node"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWD7ihu9TaaW1zKwFZNVNg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-detector"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test detector"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"server_log*"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"include_lower"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"include_upper"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U0HKTXwBwf_U8gjUXY2m"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633392680364</span><span class="p">,</span><span class="w">
      </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"admin"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"all_access"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"detector_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SINGLE_ENTITY"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"estimated_minutes_left"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"admin"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"all_access"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"historical_analysis_task"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"99DaTXwB6HknB84StRN1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633393797040</span><span class="p">,</span><span class="w">
    </span><span class="nl">"started_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RUNNING"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VEHKTXwBwf_U8gjUXY2s"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"task_progress"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.89285713</span><span class="p">,</span><span class="w">
    </span><span class="nl">"init_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"current_piece"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633328940000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"execution_start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633393751412</span><span class="p">,</span><span class="w">
    </span><span class="nl">"is_latest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"task_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HISTORICAL_SINGLE_ENTITY"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"coordinating_node"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SWD7ihu9TaaW1zKwFZNVNg"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"worker_node"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2Z4q22BySEyzakYt_A0A2A"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-detector"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test detector"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"server_log*"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"include_lower"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"include_upper"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"U0HKTXwBwf_U8gjUXY2m"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633392680364</span><span class="p">,</span><span class="w">
      </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"admin"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"all_access"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"detector_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SINGLE_ENTITY"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detection_date_range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1632788951329</span><span class="p">,</span><span class="w">
      </span><span class="nl">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633393751329</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"admin"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"all_access"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <hr /> <h2 id="update-detector">Update detector</h2> <p class="label label-purple">Introduced 1.0</p> <p>Updates a detector with any changes, including the description or adding or removing of features. To update a detector, you need to first stop both real-time detection and historical analysis.</p> <p class="note">You can‚Äôt update a category field.</p> <h4 id="request-6">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">PUT</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-detector"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test update detector"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"server_log*"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"gt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-7">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VEHKTXwBwf_U8gjUXY2s"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_seq_no"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="nl">"anomaly_detector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test update detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"server_log*"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"include_lower"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"include_upper"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3kHiTXwBwf_U8gjUlY15"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633394267522</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"admin"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"all_access"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detector_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SINGLE_ENTITY"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"_primary_term"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <hr /> <h2 id="delete-detector">Delete detector</h2> <p class="label label-purple">Introduced 1.0</p> <p>Deletes a detector based on the <code class="language-plaintext highlighter-rouge">detector_id</code>. To delete a detector, you need to first stop both real-time detection and historical analysis.</p> <h4 id="request-7">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">DELETE</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-8">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"_index"</span><span class="p">:</span><span class="w"> </span><span class="s2">".opensearch-anomaly-detectors"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"70TxTXwBjd8s6RK4j1Pj"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deleted"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"forced_refresh"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_shards"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"failed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"_seq_no"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_primary_term"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <hr /> <h2 id="preview-detector">Preview detector</h2> <p class="label label-purple">Introduced 1.0</p> <p>Passes a date range to the anomaly detector to return any anomalies within that date range.</p> <p>To preview a single-entity detector:</p> <h4 id="request-8">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/_preview</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"period_start"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633048868000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"period_end"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633394468000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test update detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"server_log*"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"gt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-9">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"anomaly_result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"data_start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633049280000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"data_end_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633049340000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"feature_data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8EHmTXwBwf_U8gjU0Y0u"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"anomaly_grade"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"anomaly_detector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test update detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"server_log*"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"include_lower"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"include_upper"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8EHmTXwBwf_U8gjU0Y0u"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"detector_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SINGLE_ENTITY"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>If you specify a category field, each result is associated with an entity:</p> <h4 id="request-9">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/_preview</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"period_start"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633048868000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"period_end"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633394468000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test update detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"server_log*"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"gt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"category_field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"error_type"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-10">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"anomaly_result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"data_start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633049280000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"data_end_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633049340000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"feature_data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tkTpTXwBjd8s6RK4DlOZ"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"anomaly_grade"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error_type"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"anomaly_detector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test update detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"server_log*"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"include_lower"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"include_upper"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tkTpTXwBjd8s6RK4DlOZ"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"category_field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"error_type"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"detector_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MULTI_ENTITY"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>You can preview a detector with the detector ID:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/_preview</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VEHKTXwBwf_U8gjUXY2s"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"period_start"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633048868000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"period_end"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633394468000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>Or:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">_opendistro/_anomaly_detection/detectors/VEHKTXwBwf_U</span><span class="mi">8</span><span class="err">gjUXY</span><span class="mi">2</span><span class="err">s/_preview</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"period_start"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633048868000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"period_end"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633394468000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-11">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"anomaly_result"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VEHKTXwBwf_U8gjUXY2s"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"data_start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633049280000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"data_end_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633049340000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"feature_data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3kHiTXwBwf_U8gjUlY15"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"anomaly_grade"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"admin"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"all_access"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"anomaly_detector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test update detector"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"server_log*"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nl">"include_lower"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                </span><span class="nl">"include_upper"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3kHiTXwBwf_U8gjUlY15"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633394267522</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"admin"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"all_access"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"detector_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SINGLE_ENTITY"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <hr /> <h2 id="start-detector-job">Start detector job</h2> <p class="label label-purple">Introduced 1.0</p> <p>Starts a real-time or historical anomaly detector job.</p> <p>To start a real-time detector job:</p> <h4 id="request-10">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;/_start</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-12">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VEHKTXwBwf_U8gjUXY2s"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_seq_no"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_primary_term"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>The <code class="language-plaintext highlighter-rouge">_id</code> represents the real-time job ID, which is the same as the detector ID.</p> <p>To start historical analysis:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;/_start</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633048868000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633394468000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-13">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f9DsTXwB6HknB84SoRTY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_seq_no"</span><span class="p">:</span><span class="w"> </span><span class="mi">958</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_primary_term"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>The <code class="language-plaintext highlighter-rouge">_id</code> represents the historical batch task ID, which is a random universally unique identifier (UUID).</p> <hr /> <h2 id="stop-detector-job">Stop detector job</h2> <p class="label label-purple">Introduced 1.0</p> <p>Stops a real-time or historical anomaly detector job.</p> <p>To stop a real-time detector job:</p> <h4 id="request-11">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;/_stop</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-14">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VEHKTXwBwf_U8gjUXY2s"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_seq_no"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_primary_term"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>To stop historical analysis:</p> <p class="label label-purple">Introduced 1.1</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;/_stop?historical=</span><span class="kc">true</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-15">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f9DsTXwB6HknB84SoRTY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_seq_no"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_primary_term"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <hr /> <h2 id="search-detector">Search detector</h2> <p class="label label-purple">Introduced 1.0</p> <p>Returns all anomaly detectors for a search query.</p> <p>To search detectors using the <code class="language-plaintext highlighter-rouge">server_log*</code> index:</p> <h4 id="request-12">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/_search</span><span class="w">
</span><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/_search</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"wildcard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"server_log*"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-16">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"took"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timed_out"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_shards"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"skipped"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"failed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nl">"relation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eq"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"max_score"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"_index"</span><span class="p">:</span><span class="w"> </span><span class="s2">".opensearch-anomaly-detectors"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zi5zTXwBwf_U8gjUTfJG"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_seq_no"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_primary_term"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_score"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"server_log"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"match_all"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
              </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
              </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
          </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZS5zTXwBwf_U8gjUTfIn"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_feature"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"test_feature"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
                  </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633386974533</span><span class="p">,</span><span class="w">
          </span><span class="nl">"category_field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"error_type"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"admin"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"all_access"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"detector_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MULTI_ENTITY"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <hr /> <h2 id="search-detector-tasks">Search detector tasks</h2> <p class="label label-purple">Introduced 1.1</p> <p>Searches detector tasks.</p> <p>To search for the latest detector level historical analysis task for a high cardinality detector</p> <h4 id="request-13">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/tasks/_search</span><span class="w">
</span><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/tasks/_search</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zi5zTXwBwf_U8gjUTfJG"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"task_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HISTORICAL_HC_DETECTOR"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"is_latest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-17">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"took"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timed_out"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_shards"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"skipped"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"failed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"relation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eq"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"max_score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"_index"</span><span class="p">:</span><span class="w"> </span><span class="s2">".opensearch-anomaly-detection-state"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fm-RTXwBYwCbWecgB753"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">34</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_seq_no"</span><span class="p">:</span><span class="w"> </span><span class="mi">928</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_primary_term"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zi5zTXwBwf_U8gjUTfJG"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nl">"detection_date_range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1630794960000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633386960000</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"task_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633389090738</span><span class="p">,</span><span class="w">
          </span><span class="nl">"execution_start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633388922742</span><span class="p">,</span><span class="w">
          </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FINISHED"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"coordinating_node"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2Z4q22BySEyzakYt_A0A2A"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"task_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HISTORICAL_HC_DETECTOR"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"execution_end_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633389090738</span><span class="p">,</span><span class="w">
          </span><span class="nl">"started_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"init_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
          </span><span class="nl">"is_latest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nl">"detector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"category_field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"error_type"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ui_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"test_feature"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"aggregationBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sum"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"aggregationOf"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"featureType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"simple_aggs"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="nl">"filters"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZS5zTXwBwf_U8gjUTfIn"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_feature"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"test_feature"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                      </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                  </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633386974533</span><span class="p">,</span><span class="w">
            </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"server_log"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testhc"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"match_all"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
            </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"admin"</span><span class="w">
              </span><span class="p">],</span><span class="w">
              </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
              </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"all_access"</span><span class="w">
              </span><span class="p">],</span><span class="w">
              </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"detector_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MULTI_ENTITY"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"admin"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"all_access"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>To search for the latest entity-level tasks for the historical analysis of a high cardinality detector:</p> <h4 id="request-14">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/tasks/_search</span><span class="w">
</span><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/tasks/_search</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zi5zTXwBwf_U8gjUTfJG"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"task_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HISTORICAL_HC_ENTITY"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"is_latest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"sort"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"execution_start_time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="s2">"desc"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>To search and aggregate states for all entity-level historical tasks:</p> <p class="note">The <code class="language-plaintext highlighter-rouge">parent_task_id</code> is the same as the task ID that you can get with the profile detector API: <code class="language-plaintext highlighter-rouge">GET _plugins/_anomaly_detection/detectors/&lt;detector_ID&gt;/_profile/ad_task</code>.</p> <h4 id="request-15">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/tasks/_search</span><span class="w">
</span><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/tasks/_search</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zi5zTXwBwf_U8gjUTfJG"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"parent_task_id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fm-RTXwBYwCbWecgB753"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"terms"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"task_type"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"HISTORICAL_HC_ENTITY"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"aggs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"terms"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"state"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-18">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"took"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timed_out"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_shards"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"skipped"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"failed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w">
      </span><span class="nl">"relation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eq"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"max_score"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"aggregations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"doc_count_error_upper_bound"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sum_other_doc_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buckets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FINISHED"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"doc_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <hr /> <h2 id="search-detector-result">Search detector result</h2> <p class="label label-purple">Introduced 1.0</p> <p>Returns all results for a search query.</p> <p>You have the following search options:</p> <ul> <li> <p>To search only the default result index, simply use the search API:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/results/_search/</span><span class="w">
</span></code></pre></div> </div> </li> <li> <p>To search both the custom result index and default result index, you can either add the custom result index to the search API:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/results/_search/&lt;custom_result_index&gt;</span><span class="w">
</span></code></pre></div> </div> <p>Or, add the custom result index and set the <code class="language-plaintext highlighter-rouge">only_query_custom_result_index</code> parameter to <code class="language-plaintext highlighter-rouge">false</code>:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/results/_search/&lt;custom_result_index&gt;?only_query_custom_result_index=</span><span class="kc">false</span><span class="w">
</span></code></pre></div> </div> </li> <li> <p>To search only the custom result index, add the custom result index to the search API and set the <code class="language-plaintext highlighter-rouge">only_query_custom_result_index</code> parameter to <code class="language-plaintext highlighter-rouge">true</code>:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/results/_search/&lt;custom_result_index&gt;?only_query_custom_result_index=</span><span class="kc">true</span><span class="w">
</span></code></pre></div> </div> </li> </ul> <p>The following example searches anomaly results for grade greater than 0 for real-time analysis:</p> <h4 id="request-16">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/results/_search/opensearch-ad-plugin-result-test</span><span class="w">
</span><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/results/_search/opensearch-ad-plugin-result-test</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EWy02nwBm38sXcF2AiFJ"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"anomaly_grade"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"gt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"must_not"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"exists"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"task_id"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>If you specify the custom result index like in this example, the search results API searches both the default result indices and custom result indices.</p> <p>If you don‚Äôt specify the custom result index and you just use the <code class="language-plaintext highlighter-rouge">_plugins/_anomaly_detection/detectors/results/_search</code> URL, the anomaly detection plugin searches only the default result indices.</p> <p>Real-time detection doesn‚Äôt persist the task ID in the anomaly result, so the task ID will be null.</p> <p>For information about the response body fields, see <a href="https://vagimeli.github.io/monitoring-plugins/ad/result-mapping/#response-body-fields">Anomaly result mapping</a>.</p> <h4 id="example-response-19">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"took"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timed_out"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_shards"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"skipped"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"failed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w">
      </span><span class="nl">"relation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eq"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"max_score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"_index"</span><span class="p">:</span><span class="w"> </span><span class="s2">".opensearch-anomaly-results-history-2021.10.04-1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"686KTXwB6HknB84SMr6G"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_seq_no"</span><span class="p">:</span><span class="w"> </span><span class="mi">103622</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_primary_term"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EWy02nwBm38sXcF2AiFJ"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.918886275269358</span><span class="p">,</span><span class="w">
          </span><span class="nl">"model_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EWy02nwBm38sXcF2AiFJ_entity_error16"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="nl">"anomaly_score"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.1093755891885446</span><span class="p">,</span><span class="w">
          </span><span class="nl">"execution_start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633388475001</span><span class="p">,</span><span class="w">
          </span><span class="nl">"data_end_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633388414989</span><span class="p">,</span><span class="w">
          </span><span class="nl">"data_start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633388114989</span><span class="p">,</span><span class="w">
          </span><span class="nl">"feature_data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZS5zTXwBwf_U8gjUTfIn"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_feature"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.532</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"relevant_attribution"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZS5zTXwBwf_U8gjUTfIn"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.0</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"expected_values"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"likelihood"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
              </span><span class="nl">"value_list"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZS5zTXwBwf_U8gjUTfIn"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"execution_end_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633388475014</span><span class="p">,</span><span class="w">
          </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"admin"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"all_access"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"anomaly_grade"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.031023547546561225</span><span class="p">,</span><span class="w">
          </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error_type"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error16"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>You can run historical analysis as many times as you like. So, multiple tasks might exist for the same detector.</p> <p>You can search for the latest historical batch task first and then search the historical batch task results.</p> <p>To search anomaly results for <code class="language-plaintext highlighter-rouge">grade</code> greater than 0 for historical analysis with the <code class="language-plaintext highlighter-rouge">task_id</code>:</p> <h4 id="request-17">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/results/_search</span><span class="w">
</span><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/results/_search</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zi5zTXwBwf_U8gjUTfJG"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"anomaly_grade"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"gt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fm-RTXwBYwCbWecgB753"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-20">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"took"</span><span class="p">:</span><span class="w"> </span><span class="mi">915</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timed_out"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_shards"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"successful"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"skipped"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"failed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">4115</span><span class="p">,</span><span class="w">
      </span><span class="nl">"relation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eq"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"max_score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hits"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"_index"</span><span class="p">:</span><span class="w"> </span><span class="s2">".opensearch-anomaly-results-history-2021.10.04-1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VRyRTXwBDx7vzPBV8jYC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_seq_no"</span><span class="p">:</span><span class="w"> </span><span class="mi">149657</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_primary_term"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_score"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"_source"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zi5zTXwBwf_U8gjUTfJG"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9642989263957601</span><span class="p">,</span><span class="w">
          </span><span class="nl">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fm-RTXwBYwCbWecgB753"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"model_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zi5zTXwBwf_U8gjUTfJG_entity_error24"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="nl">"anomaly_score"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.2260712437521946</span><span class="p">,</span><span class="w">
          </span><span class="nl">"execution_start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633388982692</span><span class="p">,</span><span class="w">
          </span><span class="nl">"data_end_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1631721300000</span><span class="p">,</span><span class="w">
          </span><span class="nl">"data_start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1631721000000</span><span class="p">,</span><span class="w">
          </span><span class="nl">"feature_data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ZS5zTXwBwf_U8gjUTfIn"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test_feature"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"execution_end_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633388982709</span><span class="p">,</span><span class="w">
          </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"admin"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"all_access"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"anomaly_grade"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.14249628345655782</span><span class="p">,</span><span class="w">
          </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error_type"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error1"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <hr /> <h2 id="search-top-anomalies">Search top anomalies</h2> <p class="label label-purple">Introduced 1.2</p> <p>Returns the top anomaly results for a high-cardinality detector, bucketed by categorical field values.</p> <p>You can pass a <code class="language-plaintext highlighter-rouge">historical</code> boolean parameter to specify whether you want to analyze real-time or historical results.</p> <h4 id="request-18">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;/results/_topAnomalies?historical=</span><span class="kc">false</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"category_field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"ip"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="s2">"severity"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example-task-id"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"start_time_ms"</span><span class="p">:</span><span class="w"> </span><span class="mi">123456789000</span><span class="p">,</span><span class="w">
  </span><span class="nl">"end_time_ms"</span><span class="p">:</span><span class="w"> </span><span class="mi">987654321000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-21">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"buckets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.2.3.4"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"doc_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nl">"max_anomaly_grade"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.8</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.6.7.8"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"doc_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
      </span><span class="nl">"max_anomaly_grade"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"ip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.10.11.12"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"doc_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nl">"max_anomaly_grade"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>You can specify the following options.</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Options</th> <th style="text-align: left">Description</th> <th style="text-align: left">Type</th> <th style="text-align: left">Required</th> </tr> </thead> <tbody> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">size</code></td> <td style="text-align: left">Specify the number of top buckets that you want to see. Default is 10. The maximum number is 10,000.</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">integer</code></td> <td style="text-align: left">No</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">category_field</code></td> <td style="text-align: left">Specify the set of category fields that you want to aggregate on. Defaults to all category fields for the detector.</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">list</code></td> <td style="text-align: left">No</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">order</code></td> <td style="text-align: left">Specify <code class="language-plaintext highlighter-rouge">severity</code> (anomaly grade) or <code class="language-plaintext highlighter-rouge">occurrence</code> (number of anomalies). Default is <code class="language-plaintext highlighter-rouge">severity</code>.</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td> <td style="text-align: left">No</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">task_id</code></td> <td style="text-align: left">Specify a historical task ID to see results only from that specific task. Use only when <code class="language-plaintext highlighter-rouge">historical=true</code>, otherwise the anomaly detection plugin ignores this parameter.</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">string</code></td> <td style="text-align: left">No</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">start_time_ms</code></td> <td style="text-align: left">Specify the time to start analyzing results, in Epoch milliseconds.</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">long</code></td> <td style="text-align: left">Yes</td> </tr> <tr> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">end_time_ms</code></td> <td style="text-align: left">Specify the time to end analyzing results, in Epoch milliseconds.</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">long</code></td> <td style="text-align: left">Yes</td> </tr> </tbody> </table></div> <hr /> <h2 id="get-detector-stats">Get detector stats</h2> <p class="label label-purple">Introduced 1.0</p> <p>Provides information about how the plugin is performing.</p> <p>To get all stats:</p> <h4 id="request-19">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/stats</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-22">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"anomaly_detectors_index_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"green"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"anomaly_detection_state_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"green"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"single_entity_detector_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"detector_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"multi_entity_detector_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="nl">"anomaly_detection_job_index_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"green"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"models_checkpoint_index_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"green"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"anomaly_results_index_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"green"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"nodes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"2Z4q22BySEyzakYt_A0A2A"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ad_execute_request_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">95</span><span class="p">,</span><span class="w">
      </span><span class="nl">"models"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WTBnTXwBjd8s6RK4b1Sz"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"model_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rcf"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"last_used_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633398197185</span><span class="p">,</span><span class="w">
          </span><span class="nl">"model_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WTBnTXwBjd8s6RK4b1Sz_model_rcf_0"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"last_checkpoint_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633396573679</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"ad_canceled_batch_task_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ad_hc_execute_request_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">75</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ad_hc_execute_failure_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"model_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ad_execute_failure_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ad_batch_task_failure_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ad_total_batch_task_execution_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ad_executing_batch_task_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"SWD7ihu9TaaW1zKwFZNVNg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ad_execute_request_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
      </span><span class="nl">"models"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zi5zTXwBwf_U8gjUTfJG"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"model_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"last_used_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633398375008</span><span class="p">,</span><span class="w">
          </span><span class="nl">"model_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zi5zTXwBwf_U8gjUTfJG_entity_error13"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"last_checkpoint_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633392973682</span><span class="p">,</span><span class="w">
          </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error_type"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error13"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"ad_canceled_batch_task_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ad_hc_execute_request_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ad_hc_execute_failure_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"model_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ad_execute_failure_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ad_batch_task_failure_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ad_total_batch_task_execution_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ad_executing_batch_task_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"TQDUXEzyTJyV0H6_T4hYUw"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ad_execute_request_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"models"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zi5zTXwBwf_U8gjUTfJG"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"model_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"last_used_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633398375004</span><span class="p">,</span><span class="w">
          </span><span class="nl">"model_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zi5zTXwBwf_U8gjUTfJG_entity_error24"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"last_checkpoint_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633388177359</span><span class="p">,</span><span class="w">
          </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error_type"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error24"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"ad_canceled_batch_task_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ad_hc_execute_request_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ad_hc_execute_failure_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"model_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ad_execute_failure_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ad_batch_task_failure_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ad_total_batch_task_execution_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
      </span><span class="nl">"ad_executing_batch_task_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>The <code class="language-plaintext highlighter-rouge">model_count</code> parameter shows the total number of models running on each node‚Äôs memory. For historical analysis, you see the values for the following fields:</p> <ul> <li><code class="language-plaintext highlighter-rouge">ad_total_batch_task_execution_count</code></li> <li><code class="language-plaintext highlighter-rouge">ad_executing_batch_task_count</code></li> <li><code class="language-plaintext highlighter-rouge">ad_canceled_batch_task_count</code></li> <li><code class="language-plaintext highlighter-rouge">ad_batch_task_failure_count</code></li> </ul> <p>If haven‚Äôt run any historical analysis, these values show up as 0.</p> <p>To get all stats for a specific node:</p> <h4 id="request-20">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/&lt;nodeId&gt;/stats</span><span class="w">
</span></code></pre></div></div> <p>To get specific stats for a node:</p> <h4 id="request-21">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/&lt;nodeId&gt;/stats/&lt;stat&gt;</span><span class="w">
</span></code></pre></div></div> <p>For example, to get the <code class="language-plaintext highlighter-rouge">ad_execute_request_count</code> value for node <code class="language-plaintext highlighter-rouge">SWD7ihu9TaaW1zKwFZNVNg</code>:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/SWD</span><span class="mi">7</span><span class="err">ihu</span><span class="mi">9</span><span class="err">TaaW</span><span class="mi">1</span><span class="err">zKwFZNVNg/stats/ad_execute_request_count</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-23">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"nodes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"SWD7ihu9TaaW1zKwFZNVNg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ad_execute_request_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>To get a specific type of stats:</p> <h4 id="request-22">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/stats/&lt;stat&gt;</span><span class="w">
</span></code></pre></div></div> <p>For example:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/stats/ad_executing_batch_task_count</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-24">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"nodes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"2Z4q22BySEyzakYt_A0A2A"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ad_executing_batch_task_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"SWD7ihu9TaaW1zKwFZNVNg"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ad_executing_batch_task_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"TQDUXEzyTJyV0H6_T4hYUw"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"ad_executing_batch_task_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <hr /> <h2 id="profile-detector">Profile detector</h2> <p class="label label-purple">Introduced 1.0</p> <p>Returns information related to the current state of the detector and memory usage, including current errors and shingle size, to help troubleshoot the detector.</p> <p>This command helps locate logs by identifying the nodes that run the anomaly detector job for each detector.</p> <p>It also helps track the initialization percentage, the required shingles, and the estimated time left.</p> <h4 id="request-23">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;/_profile/</span><span class="w">
</span><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;/_profile?_all=</span><span class="kc">true</span><span class="w">
</span><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;/_profile/&lt;type&gt;</span><span class="w">
</span><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;/_profile/&lt;type</span><span class="mi">1</span><span class="err">&gt;,&lt;type</span><span class="mi">2</span><span class="err">&gt;</span><span class="w">
</span></code></pre></div></div> <h4 id="sample-responses-1">Sample Responses</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;/_profile</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DISABLED"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stopped detector: AD models memory usage exceeds our limit."</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;/_profile?_all=</span><span class="kc">true</span><span class="err">&amp;pretty</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RUNNING"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"models"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"model_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3Dh6TXwBwf_U8gjURE0F_entity_KSLSh0Wv05RQXiBAQHTEZg"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ip"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"192.168.1.1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error_type"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error8"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"model_size_in_bytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">403491</span><span class="p">,</span><span class="w">
      </span><span class="nl">"node_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2Z4q22BySEyzakYt_A0A2A"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"total_size_in_bytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">12911712</span><span class="p">,</span><span class="w">
  </span><span class="nl">"init_progress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100%"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"total_entities"</span><span class="p">:</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w">
  </span><span class="nl">"active_entities"</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w">
  </span><span class="nl">"ad_task"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ad_task"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D3I5TnwBYwCbWecg7lN9"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633399993685</span><span class="p">,</span><span class="w">
      </span><span class="nl">"started_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RUNNING"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3Dh6TXwBwf_U8gjURE0F"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"task_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"init_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"execution_start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633399991933</span><span class="p">,</span><span class="w">
      </span><span class="nl">"is_latest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"task_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HISTORICAL_HC_DETECTOR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"coordinating_node"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2Z4q22BySEyzakYt_A0A2A"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"detector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testhc-mc"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"server_log"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"match_all"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
        </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2zh6TXwBwf_U8gjUQ039"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"ui_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"aggregationBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sum"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"aggregationOf"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"featureType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"simple_aggs"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"filters"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633387430916</span><span class="p">,</span><span class="w">
        </span><span class="nl">"category_field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"ip"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"error_type"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"admin"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"all_access"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"detector_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MULTI_ENTITY"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"detection_date_range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1632793800000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633398600000</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"admin"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"all_access"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"node_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2Z4q22BySEyzakYt_A0A2A"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D3I5TnwBYwCbWecg7lN9"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"task_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HISTORICAL_HC_DETECTOR"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detector_task_slots"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total_entities_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pending_entities_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
    </span><span class="nl">"running_entities_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"running_entities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">      </span><span class="s2">"""[{"</span><span class="err">name</span><span class="s2">":"</span><span class="err">ip</span><span class="s2">","</span><span class="err">value</span><span class="s2">":"</span><span class="mf">192.168</span><span class="err">.</span><span class="mf">1.1</span><span class="s2">"},{"</span><span class="err">name</span><span class="s2">":"</span><span class="err">error_type</span><span class="s2">","</span><span class="err">value</span><span class="s2">":"</span><span class="err">error</span><span class="mi">9</span><span class="s2">"}]"""</span><span class="p">,</span><span class="w">
          </span><span class="err">...</span><span class="p">],</span><span class="w">
    </span><span class="nl">"entity_task_profiles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rcf_total_updates"</span><span class="p">:</span><span class="w"> </span><span class="mi">1994</span><span class="p">,</span><span class="w">
        </span><span class="nl">"threshold_model_trained"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"threshold_model_training_data_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"model_size_in_bytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">1593240</span><span class="p">,</span><span class="w">
        </span><span class="nl">"node_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2Z4q22BySEyzakYt_A0A2A"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ip"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"192.168.1.1"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error_type"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error7"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E3I5TnwBYwCbWecg9FMm"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"task_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HISTORICAL_HC_ENTITY"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"model_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;/_profile/total_size_in_bytes</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"total_size_in_bytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">13369344</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>You can see the <code class="language-plaintext highlighter-rouge">ad_task</code> field only for historical analysis.</p> <p>The <code class="language-plaintext highlighter-rouge">model_count</code> parameter shows the total number of models that a detector runs on each node‚Äôs memory. This is useful if you have several models running on your cluster and want to know the count.</p> <p>If you configured the category field, you can see the number of unique values in the field and all active entities with models running in memory.</p> <p>You can use this data to estimate how much memory is required for anomaly detection so you can decide how to size your cluster. For example, if a detector has one million entities and only 10 of them are active in memory, you need to scale your cluster up or out.</p> <p>For a single-entity detector:</p> <h4 id="example-response-25">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INIT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"total_size_in_bytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"init_progress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0%"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"needed_shingles"</span><span class="p">:</span><span class="w"> </span><span class="mi">128</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"ad_task"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ad_task"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cfUNOXwBFLNqSEcxAlde"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633044731640</span><span class="p">,</span><span class="w">
      </span><span class="nl">"started_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RUNNING"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"qL4NOXwB__6eNorTAKtJ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"task_progress"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.49603173</span><span class="p">,</span><span class="w">
      </span><span class="nl">"init_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"current_piece"</span><span class="p">:</span><span class="w"> </span><span class="mi">1632739800000</span><span class="p">,</span><span class="w">
      </span><span class="nl">"execution_start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633044726365</span><span class="p">,</span><span class="w">
      </span><span class="nl">"is_latest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"task_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HISTORICAL_SINGLE_ENTITY"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"coordinating_node"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bCtWtxWPThq0BIn5P5I4Xw"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"worker_node"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dIyavWhmSYWGz65b4u-lpQ"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"detector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"detector1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"server_log"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"match_all"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
        </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p74NOXwB__6eNorTAKss"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-feature"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"test_feature"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"ui_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"test-feature"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"aggregationBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sum"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"aggregationOf"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"featureType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"simple_aggs"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"filters"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633044725832</span><span class="p">,</span><span class="w">
        </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"admin"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"all_access"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"detector_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SINGLE_ENTITY"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"detection_date_range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1632439925885</span><span class="p">,</span><span class="w">
        </span><span class="nl">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633044725885</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"admin"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"all_access"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="nl">"rcf_total_updates"</span><span class="p">:</span><span class="w"> </span><span class="mi">1994</span><span class="p">,</span><span class="w">
    </span><span class="nl">"threshold_model_trained"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"threshold_model_training_data_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"model_size_in_bytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">1593240</span><span class="p">,</span><span class="w">
    </span><span class="nl">"node_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dIyavWhmSYWGz65b4u-lpQ"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detector_task_slots"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>The <code class="language-plaintext highlighter-rouge">total_entities</code> parameter shows you the total number of entities including the number of category fields for a detector.</p> <p>Getting the total count of entities is an expensive operation for real-time analysis of a detector with more than one category field. By default, for a real-time detection profile, a detector counts the number of entities up to a value of 10,000. For historical analysis, the anomaly detection plugin only detects the top 1,000 entities by default and caches the top entities in memory, so it doesn‚Äôt cost much to get the total count of entities for historical analysis.</p> <p>The <code class="language-plaintext highlighter-rouge">profile</code> operation also provides information about each entity, such as the entity‚Äôs <code class="language-plaintext highlighter-rouge">last_sample_timestamp</code> and <code class="language-plaintext highlighter-rouge">last_active_timestamp</code>. <code class="language-plaintext highlighter-rouge">last_sample_timestamp</code> shows the last document in the input data source index containing the entity, while <code class="language-plaintext highlighter-rouge">last_active_timestamp</code> shows the timestamp when the entity‚Äôs model was last seen in the model cache.</p> <p>If there are no anomaly results for an entity, either the entity doesn‚Äôt have any sample data or resources such as memory and disk IO are constrained relative to the number of entities.</p> <h4 id="request-24">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;/_profile?_all=</span><span class="kc">true</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"host"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"i-00f28ec1eb8997686"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="sample-responses-2">Sample Responses</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"is_active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"last_active_timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604026394879</span><span class="p">,</span><span class="w">
  </span><span class="nl">"last_sample_timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1604026394879</span><span class="p">,</span><span class="w">
  </span><span class="nl">"init_progress"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"percentage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100%"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"model_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TFUdd3UBBwIAGQeRh5IS_entity_i-00f28ec1eb8997686"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"model_size_in_bytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">712480</span><span class="p">,</span><span class="w">
    </span><span class="nl">"node_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MQ-bTBW3Q2uU_2zX3pyEQg"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RUNNING"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>To get profile information for only historical analysis, specify <code class="language-plaintext highlighter-rouge">ad_task</code>. Specifying <code class="language-plaintext highlighter-rouge">_all</code> is an expensive operation for multi-category high cardinality detectors.</p> <h4 id="request-25">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;/_profile?_all</span><span class="w">
</span><span class="err">GET</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/&lt;detectorId&gt;/_profile/ad_task</span><span class="w">
</span></code></pre></div></div> <h4 id="sample-responses-3">Sample Responses</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ad_task"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"ad_task"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CHI0TnwBYwCbWecgqgRA"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633399648413</span><span class="p">,</span><span class="w">
      </span><span class="nl">"started_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RUNNING"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3Dh6TXwBwf_U8gjURE0F"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"task_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"init_progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"execution_start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633399646784</span><span class="p">,</span><span class="w">
      </span><span class="nl">"is_latest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"task_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HISTORICAL_HC_DETECTOR"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"coordinating_node"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2Z4q22BySEyzakYt_A0A2A"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"detector"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testhc-mc"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"time_field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timestamp"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"server_log"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"filter_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"match_all"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"detection_interval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"window_delay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Minutes"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
        </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"feature_attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"feature_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2zh6TXwBwf_U8gjUQ039"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feature_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"feature_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"aggregation_query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"sum"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"ui_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"aggregationBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sum"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"aggregationOf"</span><span class="p">:</span><span class="w"> </span><span class="s2">"value"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"featureType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"simple_aggs"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"filters"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633387430916</span><span class="p">,</span><span class="w">
        </span><span class="nl">"category_field"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"ip"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"error_type"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"admin"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"all_access"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"detector_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MULTI_ENTITY"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"detection_date_range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1632793800000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1633398600000</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"backend_roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"admin"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"own_index"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"all_access"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"custom_attribute_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
        </span><span class="nl">"user_requested_tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"__user__"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"node_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2Z4q22BySEyzakYt_A0A2A"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CHI0TnwBYwCbWecgqgRA"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"task_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HISTORICAL_HC_DETECTOR"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"detector_task_slots"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total_entities_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w">
    </span><span class="nl">"pending_entities_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
    </span><span class="nl">"running_entities_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"running_entities"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"""[{"</span><span class="err">name</span><span class="s2">":"</span><span class="err">ip</span><span class="s2">","</span><span class="err">value</span><span class="s2">":"</span><span class="mf">192.168</span><span class="err">.</span><span class="mf">1.1</span><span class="s2">"},{"</span><span class="err">name</span><span class="s2">":"</span><span class="err">error_type</span><span class="s2">","</span><span class="err">value</span><span class="s2">":"</span><span class="err">error</span><span class="mi">9</span><span class="s2">"}]"""</span><span class="p">,</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"entity_task_profiles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"shingle_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
        </span><span class="nl">"rcf_total_updates"</span><span class="p">:</span><span class="w"> </span><span class="mi">994</span><span class="p">,</span><span class="w">
        </span><span class="nl">"threshold_model_trained"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"threshold_model_training_data_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"model_size_in_bytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">1593240</span><span class="p">,</span><span class="w">
        </span><span class="nl">"node_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2Z4q22BySEyzakYt_A0A2A"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"entity"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ip"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"192.168.1.1"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error_type"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error6"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9XI0TnwBYwCbWecgsAd6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"task_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HISTORICAL_HC_ENTITY"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <hr /> <h2 id="delete-detector-results">Delete detector results</h2> <p class="label label-purple">Introduced 1.1</p> <p>Deletes the results of a detector based on a query.</p> <p>The delete detector results API only deletes anomaly result documents in the default result index. It doesn‚Äôt support deleting anomaly result documents stored in any custom result indices.</p> <p>You need to manually delete anomaly result documents that you don‚Äôt need from custom result indices.</p> <h4 id="request-26">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">DELETE</span><span class="w"> </span><span class="err">_plugins/_anomaly_detection/detectors/results</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rlDtOHwBD5tpxlbyW7Nt"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"task_id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TM3tOHwBCi2h__AOXlyQ"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"data_start_time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"lte"</span><span class="p">:</span><span class="w"> </span><span class="mi">1632441600000</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-26">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"took"</span><span class="p">:</span><span class="w"> </span><span class="mi">48</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timed_out"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"deleted"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
  </span><span class="nl">"batches"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"version_conflicts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"noops"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"retries"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"bulk"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"search"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"throttled_millis"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"requests_per_second"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"throttled_until_millis"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"failures"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <hr /> <h2 id="create-monitor">Create monitor</h2> <p class="label label-purple">Introduced 1.0</p> <p>Create a monitor to set up alerts for the detector.</p> <h4 id="request-27">Request</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">_plugins/_alerting/monitors</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"monitor"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-monitor"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MINUTES"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"search"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">".opensearch-anomaly-results*"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"data_end_time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                      </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"||-20m"</span><span class="p">,</span><span class="w">
                      </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                      </span><span class="nl">"include_lower"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                      </span><span class="nl">"include_upper"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                      </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                  </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                      </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m4ccEnIBTXsGi3mvMt9p"</span><span class="p">,</span><span class="w">
                      </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                  </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">],</span><span class="w">
              </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"sort"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"anomaly_grade"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="s2">"desc"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="s2">"desc"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"aggregations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"max_anomaly_grade"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"max"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anomaly_grade"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"triggers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-trigger"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"severity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"condition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"script"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"return ctx.results[0].aggregations.max_anomaly_grade.value != null &amp;&amp; ctx.results[0].aggregations.max_anomaly_grade.value &gt; 0.7 &amp;&amp; ctx.results[0].hits.hits[0]._source.confidence &gt; 0.7"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"lang"</span><span class="p">:</span><span class="w"> </span><span class="s2">"painless"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-action"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"destination_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ld7912sBlQ5JUWWFThoW"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"message_template"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is my message body."</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nl">"throttle_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
          </span><span class="nl">"subject_template"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TheSubject"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="example-response-27">Example response</h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OClTEnIBmSf7y6LP11Jz"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_seq_no"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nl">"_primary_term"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"monitor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"monitor"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"schema_version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-monitor"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1589445384043</span><span class="p">,</span><span class="w">
    </span><span class="nl">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
        </span><span class="nl">"unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MINUTES"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"search"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"indices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">".opensearch-anomaly-results*"</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"bool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                  </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"range"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                      </span><span class="nl">"data_end_time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"||-20m"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"include_lower"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"include_upper"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
                      </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                  </span><span class="p">},</span><span class="w">
                  </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"term"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                      </span><span class="nl">"detector_id"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m4ccEnIBTXsGi3mvMt9p"</span><span class="p">,</span><span class="w">
                        </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
                      </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                  </span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="nl">"adjust_pure_negative"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="nl">"boost"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"sort"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"anomaly_grade"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="s2">"desc"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nl">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="s2">"desc"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"aggregations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"max_anomaly_grade"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"max"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anomaly_grade"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"triggers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NilTEnIBmSf7y6LP11Jr"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-trigger"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"severity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"condition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"script"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"return ctx.results[0].aggregations.max_anomaly_grade.value != null &amp;&amp; ctx.results[0].aggregations.max_anomaly_grade.value &gt; 0.7 &amp;&amp; ctx.results[0].hits.hits[0]._source.confidence &gt; 0.7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lang"</span><span class="p">:</span><span class="w"> </span><span class="s2">"painless"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"actions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NylTEnIBmSf7y6LP11Jr"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test-action"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"destination_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ld7912sBlQ5JUWWFThoW"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"message_template"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is my message body."</span><span class="p">,</span><span class="w">
              </span><span class="nl">"lang"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mustache"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"throttle_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subject_template"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TheSubject"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"lang"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mustache"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"last_update_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1589445384043</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <hr /> <a class="top-link" href="#top"> <svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg> </a> </div> </div> <div class="toc-wrap"> <div class="sticky-wrap"> <div class="toc"> <ul class="toc-list"><li class="toc-item"><a href="#create-anomaly-detector">Create anomaly detector</a></li><li class="toc-item"><a href="#validate-detector">Validate detector</a></li><li class="toc-item"><a href="#get-detector">Get detector</a></li><li class="toc-item"><a href="#update-detector">Update detector</a></li><li class="toc-item"><a href="#delete-detector">Delete detector</a></li><li class="toc-item"><a href="#preview-detector">Preview detector</a></li><li class="toc-item"><a href="#start-detector-job">Start detector job</a></li><li class="toc-item"><a href="#stop-detector-job">Stop detector job</a></li><li class="toc-item"><a href="#search-detector">Search detector</a></li><li class="toc-item"><a href="#search-detector-tasks">Search detector tasks</a></li><li class="toc-item"><a href="#search-detector-result">Search detector result</a></li><li class="toc-item"><a href="#search-top-anomalies">Search top anomalies</a></li><li class="toc-item"><a href="#get-detector-stats">Get detector stats</a></li><li class="toc-item"><a href="#profile-detector">Profile detector</a></li><li class="toc-item"><a href="#delete-detector-results">Delete detector results</a></li><li class="toc-item"><a href="#create-monitor">Create monitor</a></li></ul> </div> <div class="div-feedback"> <div class="feedback-header">WAS THIS PAGE HELPFUL?</div> <div class="feedback-radio-div"> <input id="yes" type="radio" name="radio-button" value="yes" class="feedback-button"> <label class="feedback-radio" for="yes">&#10004; Yes</label> <input id="no" type="radio" name="radio-button" value="no" class="feedback-button"> <label class="feedback-radio" for="no">&#10006; No</label> </div> <div class="feedback-text-header">Tell us why</div> <textarea id="comment" class="feedback-text" placeholder="Enter comment" maxlength="350"></textarea> <div class="text-small num-chars" id="num-chars">350 characters left</div> <button id="send" class="send-button" disabled>Send</button> <p class="text-small text-grey-dk-100 hidden" id="thank-you">Thank you for your feedback!</p> <p class="text-small text-grey-dk-100">Want to contribute? <a class="feedback-edit" target="_blank" href="https://github.com/opensearch-project/documentation-website/edit/main/_observing-your-data/ad/api.md">Edit this page</a> or <a class="feedback-issue" target="_blank" href="https://github.com/opensearch-project/documentation-website/issues/new?assignees=&labels=untriaged&template=issue_template.md&title=%5BDOC%5D">create an issue</a>.</p> </div> </div> </div> </div> </main> <div role="contentinfo"> <div class="subfooter"> <div class="container"> <h1 class="visuallyhidden">OpenSearch Links</h1> <div class="col "> <h2>Get Involved</h2> <ul> <li><a href="/codeofconduct.html">Code of Conduct</a></li> <li><a href="https://discuss.opendistrocommunity.dev/">Forums</a></li> <li><a href="https://github.com/opensearch-project">Github</a></li> <li><a href="/community_projects">Community Projects</a></li> </ul> </div> <div class="col "> <h2>Resources</h2> <ul> <li><a href="/faq/">FAQ</a></li> <li><a href="/testimonials.html">Testimonials</a></li> <li><a href="/trademark-brand-policy.html">Trademark and Brand Policy</a></li> <li><a href="/disambiguation.html">OpenSearch Disambiguation</a></li> </ul> </div> <div class="col last-child"> <h2>Connect</h2> <ul> <li><a href="https://opensearch.org/connect.html">Connect</a></li> </ul> </div> </div> </div> <div class="footer"> <div class="container"> <a href="/"><svg viewBox="0 0 64 64" fill="currentColor" xmlns="http://www.w3.org/2000/svg"> <path d="M61.7374 23.5C60.4878 23.5 59.4748 24.513 59.4748 25.7626C59.4748 44.3813 44.3813 59.4748 25.7626 59.4748C24.513 59.4748 23.5 60.4878 23.5 61.7374C23.5 62.987 24.513 64 25.7626 64C46.8805 64 64 46.8805 64 25.7626C64 24.513 62.987 23.5 61.7374 23.5Z" fill="currentColor" /> <path d="M48.0814 38C50.2572 34.4505 52.3615 29.7178 51.9475 23.0921C51.0899 9.36725 38.6589 -1.04463 26.9206 0.0837327C22.3253 0.525465 17.6068 4.2712 18.026 10.9805C18.2082 13.8961 19.6352 15.6169 21.9544 16.9399C24.1618 18.1992 26.9978 18.9969 30.2128 19.9011C34.0962 20.9934 38.6009 22.2203 42.063 24.7717C46.2125 27.8295 49.0491 31.3743 48.0814 38Z" fill="currentColor" /> <path d="M3.91861 14C1.74276 17.5495 -0.361506 22.2822 0.0524931 28.9079C0.910072 42.6327 13.3411 53.0446 25.0794 51.9163C29.6747 51.4745 34.3932 47.7288 33.974 41.0195C33.7918 38.1039 32.3647 36.3831 30.0456 35.0601C27.8382 33.8008 25.0022 33.0031 21.7872 32.0989C17.9038 31.0066 13.3991 29.7797 9.93694 27.2283C5.78746 24.1704 2.95092 20.6257 3.91861 14Z" fill="currentColor" /> </svg></a> <p class="copyright">&copy; 2023 <a href="https://opensearch.org/"> OpenSearch</a> contributors. OpenSearch is a <a href="/trademark-usage.html">registered trademark</a> of <a href="https://aws.amazon.com/"> Amazon Web Services</a>. <br /><br /> ¬© 2005-2021 <a href="https://www.djangoproject.com/foundation/"> Django Software Foundation</a> and individual contributors. Django is a <a href="https://www.djangoproject.com/trademarks/">registered trademark</a> of the Django Software Foundation.<br /> This website was forked from the BSD-licensed <a href="https://github.com/django/djangoproject.com/">djangoproject.com</a> originally designed by <a href="https://www.threespot.com">Threespot</a> <span class="ampersand">&amp;</span> <a href="http://andrevv.com/">andrevv</a>.<br /> We ‚ô° Django and the Django community. If you need a <a href="https://www.djangoproject.com/">high-level Python framework</a>, check it out. </p> </div> </div> </div> <script> anchors.add().remove('.subfooter h1, .subfooter h2'); </script> <script src="/assets/js/header-nav.js"></script> <script src="/assets/js/search.js"></script> <script src="/assets/js/copy-button.js"></script> <script src="/assets/js/nav-scroll.js"></script> <script src="/assets/js/listener.js"></script> </body> </html>
